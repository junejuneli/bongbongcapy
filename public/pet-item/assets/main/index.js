System.register("chunks:///_virtual/achieve.ts",["cc"],(function(m){var e;return{setters:[function(m){e=m.cclegacy}],execute:function(){e._RF.push({},"0638fXNmdlHw7ftbPt+t7db","achieve",void 0);m("ACHIEVE_WISH_LIST",[{id:"WISH_VALUE-1",min:1,max:10,name:"1"},{id:"WISH_VALUE-2",min:10,max:100,name:"2"},{id:"WISH_VALUE-3",min:100,max:1e3,name:"3"},{id:"WISH_VALUE-4",min:1e3,max:1e4,name:"4"},{id:"WISH_VALUE-5",min:1e4,max:1e5,name:"5"},{id:"WISH_VALUE-6",min:1e5,max:1e6,name:"6"}]),m("ACHIEVE_SKIN_LIST",[{id:"SKIN_NUM-1",min:1,max:10,name:"1"},{id:"SKIN_NUM-2",min:10,max:20,name:"2"},{id:"SKIN_NUM-3",min:20,max:40,name:"3"},{id:"SKIN_NUM-4",min:40,max:70,name:"4"}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/contants.ts",["cc","./typings.ts"],(function(e){var t,a,n,i;return{setters:[function(e){t=e.cclegacy},function(e){a=e.NavItemType,n=e.MenuOpacityState,i=e.PetSkinLevel}],execute:function(){var s,o;t._RF.push({},"6091fC0u/hEbYyZqkgSe7iS","contants",void 0);e("APP_NAME","BongBongCapy"),e("WebviewLabel",{SETTING:"setting",MAIN:"main"}),e("TRAY_ID","QIAOLUCKLY_TRAY"),e("NavItemList",[{type:a.Skin,name:"衣橱"},{type:a.Wish,name:"许愿"},{type:a.Pet,name:"木鱼"},{type:a.Setting,name:"设置"}]),e("NavItemDefault",a.Pet),e("NavItemAniTime",.15),e("LISTEN_KEY",{SHOW_WINDOW:"show-window",HIDE_WINDOW:"hide-window",DEVICE_CHANGED:"device-changed",UPDATE_APP:"update-app",WINDOW_BLUR:"tauri://blur",WINDOW_FOCUS:"tauri://focus"}),e("GameEvent",{TOOGLE_SKIN_TYPE:"toogle-skin-type",CLICK_SKIN_ITEM:"click-skin-item",CHANGE_RANDOM_SKIN:"change-random-skin",RENDER_SKIN:"render-skin",PRESS_PET:"press-pet",HIDE_EXPAND_MENU:"hide-expand-menu",HIDE_MENU:"hide-menu",CHANGE_NAV:"change-nav",BACK_MAIN:"back-main",PET_SLEEP:"pet-sleep",SHOW_BUBBLE:"show-bubble",FRAGMENT_CHANGE:"fragment-change",WISH_VALUE_CHANGE:"wishValue-change",LANGUAGE_CHANGE:"language-change",SHOW_TOAST:"show-toast"}),e("MenuOpacityMap",((s={})[n.Hidden]=0,s[n.HalfShow]=180,s[n.FullShow]=255,s)),e("MockSettingData",{language:"zh_CN",version:"0.0.0",adminMode:!1,alwaysOnTop:!0,autoStart:!1,autoUpdate:!0,mirrorMode:!0,showWishValue:!0,wishBubbleTip:!0,skipAnimation:!1,taskbarIcon:!1,visibleOnAllWorkspaces:!0,hadInputPermission:!0,petScale:.5,petOpacity:1}),e("LevelNameColor",((o={})[i.R]="#587DAB",o[i.SR]="#9F6EC9",o[i.SSR]="#D37E13",o));t._RF.pop()}}}));

System.register("chunks:///_virtual/de_DE.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"c5f82mTaHBLdZ8nTrPWoZDE","de_DE",void 0);var i=e("languages",{language:"Deutsch",version:"1.0.0",settings:{userTip:"Tastenkombinationen:\nF1 Verstecken/Anzeigen (Boss-Taste)\nF2 Zufälligen Skin wechseln",language:"Sprache",alwaysOnTop:"Immer oben",autoUpdate:"Automatische Aktualisierung",checkUpdate:"Aktualisierung prüfen",autoStart:"Automatischer Start",mirrorMode:"Spiegelmuster",pressPetSound:"Klicken Sie auf den Sound des Haustieres",skipAnimation:"Animation überspringen",adminMode:"Administratormodus",taskbarIcon:"Taskleisten-Symbol",visibleOnAllWorkspaces:"Auf allen Arbeitsflächen sichtbar",showWishValue:"Wünsche anzeigen",wishBubbleTip:"Wünsche-Blase anzeigen",hadInputPermission:"Eingabe erlauben",appInfo:"Über uns (BongBongCapy)",goSetting:"Zu den Einstellungen",exitApp:"Beenden",petScale:"Fenstergröße",petOpacity:"Transparenz",clearAll:"Alle Daten löschen"},skin:{saveBtn:"Skin speichern",saveBuy:"Fragments kaufen"},wish:{skipAnimation:"Animation überspringen",wishOnce:"Wünsche machen",wishFive:"Wünsche machen",receive:"Empfangen"},toast:{noFragment:"Fragments insuffisant, bitte gehen Sie in die Wünsche, um einen Wunsch zu machen!",noWish:"Fragments insuffisant, bitte gehen Sie in die Wünsche, um einen Wunsch zu machen!",canWish:"Sie haben viele Wünsche, Sie können Wünsche machen!"},pet:{capy:"Kapibara"}});window.languages||(window.languages={}),window.languages.de_DE=i,n._RF.pop()}}}));

System.register("chunks:///_virtual/en_US.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"0ac7eV/LLFD6LpQOP7juSqH","en_US",void 0);var i=e("languages",{language:"English-US",version:"1.0.0",settings:{userTip:"Shortcut Key:\nF1 Hide/Show (boss key)\nF2 Change Random Skin",language:"Language",alwaysOnTop:"Always on Top",autoUpdate:"Auto Update",checkUpdate:"Check Update",autoStart:"Auto Start",mirrorMode:"Mirror Mode",pressPetSound:"Press Pet Sound",skipAnimation:"Skip Animation",adminMode:"Admin Mode",taskbarIcon:"Taskbar Icon",visibleOnAllWorkspaces:"Visible on All Workspaces",showWishValue:"Show Chips Value",wishBubbleTip:"Show Wish Bubble Tip",hadInputPermission:"Allow Input Permission",appInfo:"About Us（BongBongCapy）",goSetting:"Go Setting",exitApp:"Exit",petScale:"Window Size",petOpacity:"Opacity",clearAll:"Clear All Data"},skin:{saveBtn:"Save Skin",saveBuy:"Buy Fragments"},wish:{skipAnimation:"Skip Animation",wishOnce:"Wish Once",wishFive:"Wish Five",receive:"Receive"},toast:{noFragment:"Not enough fragments, please go to the wish pool to make a wish!",noWish:"Not enough wishes, please accumulate wishes!",canWish:"You have a lot of wishes, you can make wishes!"},pet:{capy:"Capybara"}});window.languages||(window.languages={}),window.languages.en_US=i,a._RF.pop()}}}));

System.register("chunks:///_virtual/es_ES.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"f957bU3pthDVYGB+xL/XcWW","es_ES",void 0);var s=a("languages",{language:"Español",version:"1.0.0",settings:{userTip:"Teclas de acceso rápido:\nF1 Ocultar/Mostrar (boss key)\nF2 Cambiar skin aleatorio",language:"Idioma",alwaysOnTop:"Siempre en la parte superior",autoUpdate:"Actualización automática",checkUpdate:"Verificar actualización",autoStart:"Inicio automático",mirrorMode:"Modo espejo",pressPetSound:"Sonido de golpe",skipAnimation:"Omitir animación",adminMode:"Modo administrador",taskbarIcon:"Icono de la barra de tareas",visibleOnAllWorkspaces:"Visible en todas las áreas de trabajo",showWishValue:"Mostrar deseos",wishBubbleTip:"Mostrar notificación de deseos",hadInputPermission:"Permitir entrada",appInfo:"Acerca de nosotros (BongBongCapy)",goSetting:"Ir a la configuración",exitApp:"Salir",petScale:"Tamaño de la ventana",petOpacity:"Transparencia",clearAll:"Borrar todo"},skin:{saveBtn:"Guardar",saveBuy:"Comprar fragmentos"},wish:{skipAnimation:"Omitir animación",wishOnce:"Hacer un deseo",wishFive:"Hacer 5 deseos",receive:"Recibir"},toast:{noFragment:"Fragmentos insuficientes, por favor, vaya a los deseos para hacer un deseo!",noWish:"Fragmentos insuficientes, por favor, vaya a los deseos para hacer un deseo!",canWish:"Tienes muchos deseos, puedes hacer deseos!"},pet:{capy:"Capibara"}});window.languages||(window.languages={}),window.languages.es_ES=s,e._RF.pop()}}}));

System.register("chunks:///_virtual/event.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"5da47JgEbBGb6fvvl89AB5k","event",void 0);var r=function(){function e(){this.events={}}var s=e.prototype;return s.on=function(e,t,n){this.events[e]||(this.events[e]=new Set),n||console.warn("on 事件请传入this"),this.events[e].add({listener:t,that:n})},s.off=function(e,n,s){if(!this.events[e])return!1;for(var r,i=t(this.events[e]);!(r=i()).done;){var o=r.value;if(o.listener===n&&(!s||o.that===s))return this.events[e].delete(o)}return!1},s.emit=function(e,t){var n=this.events[e];n&&n.forEach((function(e){e.listener.call(e.that,t)}))},n(e,null,[{key:"Ins",get:function(){return e._ins||(e._ins=new e)}}]),e}();r._ins=void 0,window.GameEvent=r.Ins;e("default",r.Ins);s._RF.pop()}}}));

System.register("chunks:///_virtual/fr_FR.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"49b3fIdK7NFAYxCOPXcRFJQ","fr_FR",void 0);var r=e("languages",{language:"Français",version:"1.0.0",settings:{userTip:"Raccourcis clavier:\nF1 Masquer/Afficher (boss key)\nF2 Changer de skin aléatoire",language:"Langue",alwaysOnTop:"Toujours en haut",autoUpdate:"Mise à jour automatique",checkUpdate:"Vérifier la mise à jour",autoStart:"Démarrage automatique",mirrorMode:"Mode miroir",pressPetSound:"Son de frappe",skipAnimation:"Ignorer l'animation",adminMode:"Mode administrateur",taskbarIcon:"Icône de la barre des tâches",visibleOnAllWorkspaces:"Visible sur toutes les workspaces",showWishValue:"Afficher les vœux",wishBubbleTip:"Bulle de vœux",hadInputPermission:"Autoriser l'entrée",appInfo:"À propos de nous (BongBongCapy)",goSetting:"Aller aux paramètres",exitApp:"Quitter",petScale:"Taille de la fenêtre",petOpacity:"Transparence",clearAll:"Tout effacer"},skin:{saveBtn:"Sauvegarder",saveBuy:"Acheter des fragments"},wish:{skipAnimation:"Ignorer l'animation",wishOnce:"Faire un vœu",wishFive:"Faire 5 vœux",receive:"Recevoir"},toast:{noFragment:"Fragments insuffisants, veuillez aller dans les vœux pour faire un vœu!",noWish:"Fragments insuffisants, veuillez aller dans les vœux pour faire un vœu!",canWish:"Vous avez beaucoup de vœux, vous pouvez faire des vœux!"},pet:{capy:"Capybara"}});window.languages||(window.languages={}),window.languages.fr_FR=r,a._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc"],(function(n){var t,e;return{setters:[function(n){t=n.cclegacy,e=n.UITransform}],execute:function(){n({isObjectKeysEqual:function(n,t){if(n===t)return!0;if(!n||!t)return!1;var e=Object.keys(n),r=Object.keys(t);return e.length===r.length&&e.every((function(n){return r.includes(n)}))},toXY:function(n,t){var r=n.getWorldPosition();return t.getComponent(e).convertToNodeSpaceAR(r)}}),t._RF.push({},"3a089QmSXZEG7BCFv1cXjht","index",void 0);n("formatNumber",(function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})),n("range",(function(n,t,e){return Array.from({length:(t-n)/e+1},(function(t,r){return n+r*e}))})),n("delay",(function(n){return new Promise((function(t){return setTimeout(t,n)}))})),n("getRandom",(function(n){return n[Math.floor(Math.random()*n.length)]}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ja_JP.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"715c2i3wxNP7ovFIAT0GeH1","ja_JP",void 0);var n=e("languages",{language:"日本語",version:"1.0.0",settings:{userTip:"ショートカットキー:\nF1 隠れる/表示する（ボスキー）\nF2 ランダムスキンを切り替える",language:"言語",alwaysOnTop:"常に最前面",autoUpdate:"自動更新",checkUpdate:"更新確認",autoStart:"自動起動",mirrorMode:"鏡像モード",pressPetSound:"ペットの音",skipAnimation:"アニメーションスキップ",adminMode:"管理者モード",taskbarIcon:"タスクバーのアイコン",visibleOnAllWorkspaces:"全てのワークスペースで表示",showWishValue:"願いの値を表示",wishBubbleTip:"願いのバブル",hadInputPermission:"入力権限を許可",appInfo:"私たちについて（BongBongCapy）",goSetting:"設定に移動",exitApp:"終了",petScale:"ウィンドウサイズ",petOpacity:"透明度",clearAll:"すべてのデータをクリア"},skin:{saveBtn:"保存",saveBuy:"フラグメント購入"},wish:{skipAnimation:"アニメーションスキップ",wishOnce:"願いを1回",wishFive:"願いを5回",receive:"受け取る"},toast:{noFragment:"不足しています。願いを許そう!",noWish:"不足しています。願いを許そう!",canWish:"たくさんの願いを許せます!"},pet:{capy:"カピバラ"}});window.languages||(window.languages={}),window.languages.ja_JP=n,a._RF.pop()}}}));

System.register("chunks:///_virtual/Language_Select.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./contants.ts"],(function(n){var e,t,i,o,a,r,c,l,s,u,g,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Enum,l=n.Label,s=n.Color,u=n.Component},function(n){g=n.LanguageType},function(n){p=n.GameEvent}],execute:function(){var h,f,d,v,y;a._RF.push({},"72264UbiNhFXLw9TsdVADvz","Language_Select",void 0);var L=r.ccclass,_=r.property;n("Language_Select",(h=L("Language_Select"),f=_({type:c(g)}),h((y=e((v=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"language",y,o(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){this.node.on("click",this.onBtnClick,this)},a.onDestroy=function(){this.node.off("click",this.onBtnClick,this)},a.setLanguage=function(n){var e=n===this.language,t=this.node.children[1];t&&(t.active=e);var i=this.node.children[0].getComponent(l);i&&(i.color=new s(e?"#D8653E":"#A74E30"))},a.onBtnClick=function(){window.GameEvent.emit(p.LANGUAGE_CHANGE,this.language)},e}(u)).prototype,"language",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.ZH_CN}}),d=v))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc","./typings.ts","./de_DE.ts","./en_US.ts","./es_ES.ts","./fr_FR.ts","./ja_JP.ts","./ru_RU.ts","./zh_CN.ts","./zh_TW.ts"],(function(e){var n,t,a;return{setters:[function(e){n=e.cclegacy,t=e.director},function(e){a=e.LanguageType},null,null,null,null,null,null,null,null],execute:function(){n._RF.push({},"0d7adM5JKhMPpPTka8XstwN","LanguageData",void 0);var r=e("default",function(){function e(){}return e.init=function(n){console.log("初始化语言",n),e.language=n,e.ready=!0},e.updateSceneRenderers=function(){for(var e=t.getScene().children,n=[],a=0;a<e.length;++a){var r=e[a].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(n,r)}for(var u=0;u<n.length;++u){var l=n[u];l.node.active&&l.updateLabel()}for(var o=[],g=0;g<e.length;++g){var i=e[g].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,i)}for(var s=0;s<o.length;++s){var c=o[s];c.node.active&&c.updateSprite()}},e.t=function(n){if(!window.languages)return n;for(var t=n.split("."),a=window.languages[e.language],r=0;r<t.length;r++)if(!(a=a[t[r]]))return"";return a||""},e.updateLanguage=function(n){e.language=n,e.updateSceneRenderers()},e}());r.language=a.ZH_CN,r.ready=!1,n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./LanguageData.ts"],(function(e){var t,i,n,r,a,o,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Label,s=e.Component},function(e){u=e.LanguageType},function(e){p=e.default}],execute:function(){var y,d,f,b,h,L;o._RF.push({},"19464iwdSdOJLO1qWQ3dJpA","LocalizedLabel",void 0);var g=l.ccclass,v=l.property,k=l.executeInEditMode;e("LocalizedLabel",(y=g("LocalizedLabel"),d=v({visible:!1}),f=v({displayName:"Key",visible:!0}),y(b=k((L=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).label=null,n(t,"key",L,r(t)),t}i(t,e);var o=t.prototype;return o.onLoad=function(){p.ready||p.init(u.ZH_CN),this.fetchRender()},o.fetchRender=function(){var e=this.getComponent(c);if(e)return this.label=e,void this.updateLabel()},o.updateLabel=function(){this.label&&(this.label.string=p.t(this.key))},a(t,[{key:"_key",get:function(){return this.key},set:function(e){this.key=e,this.updateLabel()}}]),t}(s)).prototype,"key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(h.prototype,"_key",[f],Object.getOwnPropertyDescriptor(h.prototype,"_key"),h.prototype),b=h))||b)||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./typings.ts"],(function(e){var t,i,r,n,a,o,p,s,u,c,l,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.Enum,s=e.SpriteFrame,u=e.Sprite,c=e.Component},function(e){l=e.default},function(e){f=e.LanguageType}],execute:function(){var d,g,h,y,L,m,v,b,z,S,F,_;a._RF.push({},"c1dfbNYWq5Lvqvu5AmueL7o","LocalizedSprite",void 0);var w=o.ccclass,C=o.property,D=o.executeInEditMode,N=(d=w("LocalizedSpriteItem"),g=C({type:p(f),displayName:"语言"}),h=C({type:s}),d((m=t((L=function(){i(this,"language",m,this),i(this,"spriteFrame",v,this)}).prototype,"language",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.ZH_CN}}),v=t(L.prototype,"spriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y);e("LocalizedSprite",(b=w("LocalizedSprite"),z=C({type:N}),b(S=D((_=t((F=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).sprite=null,i(t,"spriteList",_,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){l.ready||l.init(f.ZH_CN),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent(u);if(e)return this.sprite=e,void this.updateSprite()},a.updateSprite=function(){if(this.sprite)for(var e=0;e<this.spriteList.length;e++){var t=this.spriteList[e];if(t.language===l.language){this.sprite.spriteFrame=t.spriteFrame;break}}},t}(c)).prototype,"spriteList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=F))||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/logger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,r,t,a;return{setters:[function(o){n=o.createClass},function(o){r=o.cclegacy,t=o.log,a=o.sys}],execute:function(){r._RF.push({},"80c61E53NBFJLOu9WQ0W1cb","logger",void 0);var e=o("default",function(){function o(){}return o.log=function(o,n,r){var a=this.colors[o];a?t.apply(void 0,[a+n+this.colors.info].concat(r)):t.apply(void 0,[n].concat(r))},o.info=function(o){for(var n,r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];this.log("info",o,t),null==(n=this.platformLog)||n.info.apply(n,[this.platformLog,o].concat(t))},o.success=function(o){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];this.log("success",o,r)},o.error=function(o){for(var n,r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];this.log("error",o,t),null==(n=this.platformLog)||n.error.apply(n,[this.platformLog,o].concat(t))},o.system=function(o){for(var n,r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];this.log("warn",o,t),null==(n=this.platformLog)||n.warn.apply(n,[this.platformLog,o].concat(t))},n(o,null,[{key:"platformLog",get:function(){return o._logManger||(a.platform==a.Platform.WECHAT_GAME&&window.wx.getRealtimeLogManager?o._logManger=window.wx.getRealtimeLogManager():a.platform==a.Platform.BYTEDANCE_MINI_GAME&&window.tt.getRealtimeLogManager&&(o._logManger=window.tt.getRealtimeLogManager()),o._logManger={info:function(){},error:function(){},warn:function(){}}),o._logManger}}]),o}());e.colors={info:"[36m",success:"[32m",warning:"[33m",error:"[31m",warn:"[0m"},e._logManger=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Language_Select.ts","./NavList.ts","./Nav_Item.ts","./PetMenu.ts","./Pet_Sound.ts","./PlatformVisable.ts","./Qipao_Item.ts","./Select_View.ts","./Setting_Item.ts","./SkinCard.ts","./Skin_Nav_Item.ts","./Skin_Row_Item.ts","./Skin_Scroll_View.ts","./SpinePet.ts","./ToastControl.ts","./Toast_Item.ts","./achieve.ts","./MainControl.ts","./PCWindow.ts","./PanelControl.ts","./PetPanel.ts","./SettingPanel.ts","./SettingWindow.ts","./SkinPanel.ts","./WishPanel.ts","./SteamControl.ts","./setting.ts","./skin.ts","./skin_config.ts","./storage2.ts","./userinfo.ts","./TauriSDK.ts","./ResourceLoader.ts","./event.ts","./index.ts","./logger.ts","./renderSkin.ts","./storage.ts","./contants.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./de_DE.ts","./en_US.ts","./es_ES.ts","./fr_FR.ts","./ja_JP.ts","./ru_RU.ts","./zh_CN.ts","./zh_TW.ts","./typings.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TauriSDK.ts","./contants.ts","./setting.ts","./typings.ts","./PetPanel.ts","./index.ts","./LanguageData.ts","./ResourceLoader.ts","./skin.ts","./skin_config.ts"],(function(e){var t,n,s,i,a,r,o,c,u,l,d,p,h,w,I,f,g,k,m,v,b,S;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,s=e.regeneratorRuntime,i=e.extends,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,c=e.Node,u=e.Component},function(e){l=e.TauriSDK},function(e){d=e.GameEvent,p=e.WebviewLabel,h=e.LISTEN_KEY,w=e.TRAY_ID},function(e){I=e.SettingStore},function(e){f=e.NavItemType,g=e.MainWindowEvent},function(e){k=e.PetPanel},null,function(e){m=e.default},function(e){v=e.ResourceLoader},function(e){b=e.SkinStore},function(e){S=e.CapySkinPrefix}],execute:function(){var T,C;r._RF.push({},"f94daPZiJRPWo3JR+56S95n","MainControl",void 0);var _=o.ccclass;o.property,e("MainControl",_("MainControl")(((C=function(e){function r(){for(var t,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(t=e.call.apply(e,[this].concat(c))||this).unListenCb=void 0,t.unListenBlurCb=void 0,t.unListenFocusCb=void 0,t.isInTauri=!1,t.isMenuExpand=!1,t.menuOpacityState=null,t.menuMouseHover=!1,t.activeNavItem=f.Pet,t.inFocus=!1,t.isSettingWindow=!1,t._isClickMenuItem=!1,t.updateCheckTimer=null,t.UPDATE_CHECK_INTERVAL=864e5,t.lastUpdateCheckTime=0,t.MIN_CHECK_INTERVAL=36e5,t.onBtnPetMouseDown=function(){t.isInTauri&&l.appWindowStartDragging()},t.handleWindowBlur=function(){t.activeNavItem!==f.Pet?window.GameEvent.emit(d.BACK_MAIN):t.isMenuExpand&&window.GameEvent.emit(d.HIDE_EXPAND_MENU),t.inFocus=!1},t.handleWindowFocus=function(){t.activeNavItem===f.Pet&&k.Ins.setWishNodeShow(!0),t.inFocus=!0},t.invokeGlobalShortcut=function(){["F1","F2"].forEach((function(e){l.shortcutIsRegistered(e).then((function(n){n?l.shortcutUnregister(e):l.shortcutRegister(e,t.shortcutHideWishHandle)}))}))},t.shortcutHideWishHandle=function(e){"Released"!==e.state&&("F2"===e.shortcut?window.GameEvent.emit(d.CHANGE_RANDOM_SKIN):"F1"===e.shortcut&&l.toogleWindowVisible())},t.inputDom=null,t.handleWebViewClick=function(){t.isMenuExpand&&setTimeout((function(){t._isClickMenuItem||window.GameEvent.emit(d.HIDE_EXPAND_MENU),t._isClickMenuItem=!1}),100),t.isInTauri||(t.inputDom||(t.inputDom=document.getElementById("input")),t.inputDom&&t.inputDom.focus(),t.handleDeviceInput({payload:{kind:"MousePress",value:"left"}}))},t.isReleasePress=!0,t.handleDeviceInput=function(e){if(t.activeNavItem===f.Pet&&!t.isMenuExpand){var n=e.payload,s=n.kind;n.value;switch(s){case"KeyboardPress":t.isReleasePress&&(window.GameEvent.emit(d.PRESS_PET),t.isReleasePress=!1);break;case"MousePress":t.isSettingWindow||window.GameEvent.emit(d.PRESS_PET);break;case"MouseMove":break;case"KeyboardRelease":case"MouseRelease":t.isReleasePress=!0}}},t.openSettingPanel=n(s().mark((function e(){var n,i,r,o,c,u,d,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isInTauri){e.next=3;break}return console.warn("不在 Tauri 中，无法打开设置面板"),e.abrupt("return");case 3:return e.next=5,window.__TAURI__.webviewWindow.getAllWebviewWindows();case 5:if(!((c=e.sent).length>1)){e.next=13;break}if(!(u=c.find((function(e){return e.label===p.SETTING})))){e.next=13;break}return t.isSettingWindow=!0,t.emitAllSetting(),u.show(),e.abrupt("return");case 13:d=window.__TAURI__.webviewWindow.WebviewWindow,"desktop-setting/index.html",h=new d(p.SETTING,{url:"desktop-setting/index.html",width:500,height:500,center:!0,shadow:!1,alwaysOnTop:!0,transparent:!0,decorations:!1,acceptFirstMouse:!0,skipTaskbar:!1}),null==(n=l.appWindow)||n.listen(g.ReceiveGetSetting,t.emitAllSetting,a(t)),null==(i=l.appWindow)||i.listen(g.ReceiveCloseSetting,(function(){t.isSettingWindow=!1,h.close()}),a(t)),null==(r=l.appWindow)||r.listen(g.ReceiveChangeSetting,t.handleChangeSetting,a(t)),null==(o=l.appWindow)||o.listen(g.ReceiveClearAll,(function(){I.Ins.clearAll(),b.Ins.clearAll(),l.processRelaunch()}),a(t)),h.listen("tauri://error",(function(e){console.error("[Settings window] error:",e)})),t.isSettingWindow=!0;case 22:case"end":return e.stop()}}),e)}))),t.handleChangeSetting=function(e){var n,s,i;console.log("监听到设置数据",e);var a=e.payload,o=a.key,c=a.value,u=c;switch(o){case"alwaysOnTop":case"autoStart":case"hadInputPermission":case"autoUpdate":case"pressPetSound":case"mirrorMode":case"showWishValue":case"taskbarIcon":case"visibleOnAllWorkspaces":case"wishBubbleTip":u=Boolean(c);break;case"petScale":case"petOpacity":u=Number(c);break;case"language":u=c}switch(o){case"alwaysOnTop":l.appWindowSetAlwaysOnTop(u).then((function(){I.Ins.setAlwaysOnTop(u)})).catch((function(e){console.error("设置窗口置顶失败",e)}));break;case"autoStart":l.pluginAutostartSetEnabled(u).then((function(){I.Ins.setAutoStart(u)})).catch((function(e){console.error("设置自动启动失败",e)}));break;case"hadInputPermission":I.Ins.getHadInputPermission()||l.requestInputMonitoringPermission();break;case"autoUpdate":I.Ins.setAutoUpdate(u),t.restartAutoUpdateCheck();break;case"pressPetSound":I.Ins.setPressPetSound(u);break;case"mirrorMode":I.Ins.setMirrorMode(u),null==(n=k.Ins)||n.setMirrorMode(u);break;case"showWishValue":I.Ins.setShowWishValue(u),null==(s=k.Ins)||s.setWishNodeShow(u);break;case"wishBubbleTip":I.Ins.setWishBubbleTip(u);break;case"taskbarIcon":r.Ins.getTrayById().then((function(e){e?(e.setVisible(u),I.Ins.setTaskbarIcon(u)):u&&(r.Ins.createTrayHandle(),I.Ins.setTaskbarIcon(!0))}));break;case"visibleOnAllWorkspaces":I.Ins.setVisibleOnAllWorkspaces(u),l.appWindowSetVisibleOnAllWorkspaces(u);break;case"petScale":I.Ins.setPetScale(u);var d=I.Ins.complatePetScaleValue();l.appWindowSetSize(d,d);break;case"petOpacity":I.Ins.setPetOpacity(u),null==(i=k.Ins)||i.setPetOpacity(u);break;case"language":var p=c;m.updateLanguage(p),I.Ins.setLanguage(p)}},t.getSettingData=n(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i({},I.Ins.data),r.Ins.isInTauri){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,Promise.all([l.appWindowGetAlwaysOnTop().then((function(e){e!==t.alwaysOnTop&&(I.Ins.setAlwaysOnTop(e),t.alwaysOnTop=e)})),l.pluginAutostartEnable().then((function(e){e!==t.autoStart&&(I.Ins.setAutoStart(e),t.autoStart=e)})),l.checkInputMonitoringPermission().then((function(e){e!==t.hadInputPermission&&(I.Ins.setHadInputPermission(e),t.hadInputPermission=e)}))]);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),t.emitAllSetting=n(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSettingData();case 2:n=e.sent,l.appWindow.emitTo(p.SETTING,g.SendSettingInfo,n);case 4:case"end":return e.stop()}}),e)}))),t}t(r,e);var o=r.prototype;return o.onLoad=function(){var e=this;if(r.Ins=this,l.isInTauri){this.isInTauri=!0,l.eventListen(h.DEVICE_CHANGED,this.handleDeviceInput).then((function(t){e.unListenCb=t})),l.coreInvoke("start_device_listening"),l.eventListen(h.WINDOW_BLUR,this.handleWindowBlur).then((function(t){e.unListenBlurCb=t})),l.eventListen(h.WINDOW_FOCUS,this.handleWindowFocus).then((function(t){e.unListenFocusCb=t})),l.checkInputMonitoringPermission().then((function(t){console.log("获取监听输入权限",t),t||e.openSettingPanel()})),this.node.on(c.EventType.MOUSE_DOWN,this.onBtnPetMouseDown,this);var t=I.Ins.complatePetScaleValue();l.appWindowSetSize(t,t),this.invokeGlobalShortcut(),I.Ins.getTaskbarIcon()&&this.createTrayHandle()}m.init(I.Ins.getLanguage()),v.loadJSON(S+"/configs").then((function(e){b.Ins.initSkinData(e),window.GameEvent.emit(d.RENDER_SKIN)})),l.isInTauri&&I.Ins.getAutoUpdate()&&this.startAutoUpdateCheck(),document.addEventListener("click",this.handleWebViewClick,!1),document.addEventListener("keydown",this.handleWebViewClick,!1)},o.onDestroy=function(){var e,t,n;r.Ins=null,null==(e=this.unListenCb)||e.call(this),null==(t=this.unListenBlurCb)||t.call(this),null==(n=this.unListenFocusCb)||n.call(this),this.stopAutoUpdateCheck(),this.node.off(c.EventType.MOUSE_DOWN,this.onBtnPetMouseDown,this),document.removeEventListener("click",this.handleWebViewClick,!1),document.removeEventListener("keydown",this.handleWebViewClick,!1)},o.getTrayById=function(){return l.isInTauri?window.__TAURI__.tray.TrayIcon.getById(w):null},o.createTrayHandle=function(){var e=n(s().mark((function e(){var t,n,i,a,r,o,c,u,p,h,f,g,m,v,b,S=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrayById();case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return t=window.__TAURI__.menu,n=t.Menu,i=t.MenuItem,a=t.PredefinedMenuItem,t.Submenu,t.CheckMenuItem,r=window.__TAURI__.app,o=r.getVersion,c=r.getName,u=window.__TAURI__.path.resolveResource,p=window.__TAURI__.tray.TrayIcon,e.next=11,o();case 11:return h=e.sent,e.next=14,c();case 14:return f=e.sent,e.next=18,Promise.all([i.new({id:"version",text:"版本 "+h,enabled:!1}),i.new({id:"checkUpdate",text:"检查更新",action:function(){return S.manualCheckForUpdates()}}),i.new({id:"setting",text:"偏好设置...",action:function(){return S.openSettingPanel()}}),a.new({item:"Separator"}),i.new({id:"showWish",text:"展示功德值",action:function(){var e=!I.Ins.getShowWishValue();I.Ins.setShowWishValue(e),k.Ins.setWishNodeShow(e)}}),i.new({id:"random",text:"随机装扮",accelerator:"F2",action:function(){return window.GameEvent.emit(d.CHANGE_RANDOM_SKIN)}}),i.new({id:"show",text:"显示/隐藏",accelerator:"F1",action:function(){return l.toogleWindowVisible()}}),i.new({id:"exit",text:"退出应用",accelerator:l.isMac?"Cmd+Q":"Win+Q",action:function(){return l.processExit()}})]);case 18:return g=e.sent,e.next=21,n.new({items:g});case 21:return m=e.sent,e.next=24,u("assets/tray.png");case 24:return v=e.sent,b={menu:m,icon:v,id:w,tooltip:f+" v"+h,iconAsTemplate:!0,showMenuOnLeftClick:!0},e.abrupt("return",p.new(b));case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.startAutoUpdateCheck=function(){var e=this;console.log("启动自动更新检查"),this.checkForUpdatesOnStartup(),this.updateCheckTimer=window.setInterval((function(){e.checkForUpdatesOnStartup()}),this.UPDATE_CHECK_INTERVAL)},o.stopAutoUpdateCheck=function(){this.updateCheckTimer&&(console.log("停止自动更新检查"),window.clearInterval(this.updateCheckTimer),this.updateCheckTimer=null)},o.restartAutoUpdateCheck=function(){this.stopAutoUpdateCheck(),l.isInTauri&&I.Ins.getAutoUpdate()&&this.startAutoUpdateCheck()},o.checkForUpdatesOnStartup=function(){var e=n(s().mark((function e(){var t,n,i,a,r,o,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Date.now(),!(this.lastUpdateCheckTime>0&&t-this.lastUpdateCheckTime<this.MIN_CHECK_INTERVAL)){e.next=4;break}return console.log("距离上次检查时间过短，跳过此次检查"),e.abrupt("return");case 4:return this.lastUpdateCheckTime=t,e.prev=5,console.log("正在静默检查更新..."),e.next=9,l.pluginUpdaterCheck({timeout:1e4,headers:{"X-AccessKey":"xb4A-0xSNpeI84BGImITrw"}});case 9:if(!(n=e.sent)){e.next=19;break}return i=n.version,a=n.currentVersion,r=n.body,o=void 0===r?"":r,c=n.date,console.log("发现新版本 "+i+"，当前版本 "+a),"发现新版本",u="新版本 "+i+" 可用，当前版本 "+a+"\n\n更新内容:\n"+o+"\n\n发布时间: "+c+"\n\n您可以在设置中手动检查更新。",e.next=17,l.dialogMessage("发现新版本",u,"info");case 17:e.next=20;break;case 19:console.log("当前已是最新版本");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),console.log("静默检查更新失败:",e.t0.message);case 25:case"end":return e.stop()}}),e,this,[[5,22]])})));return function(){return e.apply(this,arguments)}}(),o.manualCheckForUpdates=function(){var e=n(s().mark((function e(){var t,n,i,a,r,o,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.isInTauri){e.next=3;break}return console.warn("不在 Tauri 环境中，无法检查更新"),e.abrupt("return");case 3:return console.log("手动检查更新..."),this.lastUpdateCheckTime=Date.now(),e.prev=5,e.next=8,l.pluginUpdaterCheck({timeout:1e4,headers:{"X-AccessKey":"xb4A-0xSNpeI84BGImITrw"}});case 8:if(!(t=e.sent)){e.next=19;break}return n=t.version,i=t.currentVersion,a=t.body,r=void 0===a?"":a,o=t.date,console.log("发现新版本 "+n+"，当前版本 "+i),"发现新版本",c="新版本 "+n+" 可用，当前版本 "+i+"\n\n更新内容:\n"+r+"\n\n发布时间: "+o+"\n\n您可以在设置中手动检查更新进行完整的更新操作。",e.next=16,l.dialogMessage("发现新版本",c,"info");case 16:return e.abrupt("return",!0);case 19:return console.log("当前已是最新版本"),e.next=22,l.dialogMessage("检查更新","当前已是最新版本","info");case 22:return e.abrupt("return",!1);case 23:e.next=31;break;case 25:return e.prev=25,e.t0=e.catch(5),console.error("手动检查更新失败:",e.t0),e.next=30,l.dialogMessage("检查更新失败","检查更新时发生错误: "+e.t0.message,"error");case 30:throw e.t0;case 31:case"end":return e.stop()}}),e,this,[[5,25]])})));return function(){return e.apply(this,arguments)}}(),r}(u)).Ins=null,T=C))||T);r._RF.pop()}}}));

System.register("chunks:///_virtual/Nav_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts"],(function(e){var t,i,n,a,r,c,o,s,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,o=e._decorator,s=e.Enum,l=e.Component},function(e){u=e.NavItemType}],execute:function(){var p,v,y,d,h;c._RF.push({},"c0b12HdC2FKb4ejDhqyBUSg","Nav_Item",void 0);var N=o.ccclass,f=o.property;e("Nav_Item",(p=N("Nav_Item"),v=f({displayName:"类型",type:s(u)}),p((h=t((d=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"type",h,a(t)),t.isSelected=!1,t._activeNode=null,t}return i(t,e),t.prototype.setNavStatus=function(e,t){this.isSelected!==e&&this.type!==u.Setting&&(this.isSelected=e,this.activeNode.active=e)},r(t,[{key:"activeNode",get:function(){return this._activeNode||(this._activeNode=this.node.getChildByName("active")),this._activeNode}}]),t}(l)).prototype,"type",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Pet}}),y=d))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/NavList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./contants.ts","./PanelControl.ts","./MainControl.ts","./Nav_Item.ts"],(function(e){var t,n,i,a,r,s,o,l,u,c,h,p,d,v,m,f,b,w,_,y,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,c=e.Node,h=e.UITransform,p=e.Label,d=e.tween,v=e.Vec3,m=e.Component},function(e){f=e.NavItemType},function(e){b=e.GameEvent,w=e.NavItemAniTime},function(e){_=e.PanelControl},function(e){y=e.MainControl},function(e){N=e.Nav_Item}],execute:function(){var g,E,I,M,H,T,C,x,S,k,B,A,L;l._RF.push({},"d1d23SLDqpGp7I3H/gIpbxd","NavList",void 0);var P=u.ccclass,G=u.property;e("NavList",(g=P("NavList"),E=G({type:c,displayName:"激活标签"}),I=G({type:h,displayName:"菜单遮罩"}),M=G({type:c,displayName:"气泡"}),H=G({type:p,displayName:"气泡文字"}),T=G({type:c,displayName:"菜单"}),g((S=t((x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"active_tag",S,a(t)),i(t,"menu_mask",k,a(t)),i(t,"bubble_node",B,a(t)),i(t,"message_lb",A,a(t)),i(t,"menu_node",L,a(t)),t.isMenuExpandAni=!1,t._typewriterTimer=null,t._typewriterCloseTimer=null,t.navList=[],t}n(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.setMenuShowState(!1);var t=this.node.getComponentsInChildren(N);this.navList=t.map((function(t){return t.node.on(c.EventType.TOUCH_START,e.onBtnNavClickHandle,e),{node:t.node,type:t.type,script:t}})),window.GameEvent.on(b.HIDE_EXPAND_MENU,this.hideExpandMenuHandle,this),window.GameEvent.on(b.HIDE_MENU,this.hideMenuHandle,this),window.GameEvent.on(b.BACK_MAIN,this.backMainTabPetHandle,this),window.GameEvent.on(b.SHOW_BUBBLE,this.showBubble,this),window.GameEvent.on(b.CHANGE_NAV,this.changeNavHandle,this)},l.onDestroy=function(){this._typewriterTimer&&(clearInterval(this._typewriterTimer),this._typewriterTimer=null),window.GameEvent.off(b.HIDE_EXPAND_MENU,this.hideExpandMenuHandle,this),window.GameEvent.off(b.HIDE_MENU,this.hideMenuHandle,this),window.GameEvent.off(b.BACK_MAIN,this.backMainTabPetHandle,this),window.GameEvent.off(b.SHOW_BUBBLE,this.showBubble,this),window.GameEvent.off(b.CHANGE_NAV,this.changeNavHandle,this)},l.changeNavHandle=function(e){this.onBtnNavClickHandle(null,e,!0)},l.hideMenuHandle=function(e){this.setMenuShowState(e.show)},l.setMenuShowState=function(e){this.menu_node.active=e},l.hideExpandMenuHandle=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMenuExpandAni){e.next=3;break}return e.next=3,this.setNavItemExpandHandle(!1);case 3:y.Ins.activeNavItem===f.Pet&&this.setMenuShowState(!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onBtnNavClickHandle=function(e,t,n){var i;void 0===n&&(n=!1),n||(y.Ins._isClickMenuItem=!0);var a=(null==e||null==(i=e.target)?void 0:i.name)||t;if(a===f.Setting&&y.Ins.isInTauri)return y.Ins.openSettingPanel(),void this.setNavItemExpandHandle(!1);if(this.activeNavItem!==a||n){y.Ins.activeNavItem=a;var r=this.navList.find((function(e){return e.type===a}));if(r){var s=r.node.position;this.active_tag.active=!0,n?this.active_tag.setPosition(s):d(this.active_tag).to(w,{position:s},{easing:"smooth"}).start(),this.navList.forEach((function(e){e.script.setNavStatus(e.type===a,n)}))}a!==f.Pet&&this.setMenuShowState(!0),_.Ins.showShowPanel(a)}},l.setNavItemExpandHandle=function(e){var t=this,n=e?620:0;return new Promise((function(i){d(t.menu_mask).to(.2,{height:n},{}).call((function(){y.Ins.isMenuExpand=e,e||(t.active_tag.active=!1,t.navList.forEach((function(e){e.script.setNavStatus(!1,!0)}))),i()})).start()}))},l.onBtnMenuClick=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMenuExpandAni){e.next=2;break}return e.abrupt("return");case 2:return this.isMenuExpandAni=!0,(t=!y.Ins.isMenuExpand)&&this.onBtnNavClickHandle(null,this.activeNavItem,!0),e.next=7,this.setNavItemExpandHandle(t);case 7:this.isMenuExpandAni=!1;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.showBubble=function(e){var t=this;console.log("展示气泡",e);var n=e.message,i=e.duration,a=void 0===i?5:i;if(n){var r=60*n.length+260;r=Math.min(Math.max(r,620),1160),this.bubble_node.active=!0,this.bubble_node.scale=new v(0,0,1),this.message_lb.string="",this.bubble_node.getComponent(h).width=r,d(this.bubble_node).to(.5,{scale:new v(1,1,1)},{easing:"elasticOut"}).start();var s=0,o=n.length;this._typewriterTimer&&clearInterval(this._typewriterTimer),this._typewriterTimer=setInterval((function(){s<o?(t.message_lb.string=n.substring(0,s+1),s++):(clearInterval(t._typewriterTimer),t._typewriterTimer=null)}),80),this._typewriterCloseTimer&&(clearTimeout(this._typewriterCloseTimer),this._typewriterCloseTimer=null),this._typewriterCloseTimer=setTimeout((function(){t._typewriterCloseTimer=null,t.hideBubble()}),1e3*a)}},l.hideBubble=function(){var e=this;this._typewriterTimer&&(clearInterval(this._typewriterTimer),this._typewriterTimer=null),d(this.bubble_node).to(.3,{scale:new v(0,0,1)},{easing:"backIn"}).call((function(){e.bubble_node.active=!1,e.message_lb.string=""})).start()},l.backMainTabPetHandle=function(){this.hideExpandMenuHandle(),this.onBtnNavClickHandle(null,f.Pet,!0)},r(t,[{key:"menuOpacityState",get:function(){var e;return null==(e=y.Ins)?void 0:e.menuOpacityState}},{key:"activeNavItem",get:function(){var e;return null==(e=y.Ins)?void 0:e.activeNavItem}}]),t}(m)).prototype,"active_tag",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"menu_mask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"bubble_node",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"message_lb",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(x.prototype,"menu_node",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=x))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/PanelControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./skin.ts","./contants.ts","./PetPanel.ts"],(function(e){var t,n,i,a,l,r,s,u,o,c,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Node,u=e.Label,o=e.Component},function(e){c=e.NavItemType},function(e){p=e.SkinStore},function(e){h=e.GameEvent},function(e){f=e.PetPanel}],execute:function(){var g,b,d,m,y,v,w,P,V,N,_,E,S,k,A,G,I,C;l._RF.push({},"ccf41gOdCtHjJCuoLwf0Jx0","PanelControl",void 0);var F=r.ccclass,W=r.property;e("PanelControl",(g=F("PanelControl"),b=W({type:s,displayName:"许愿值节点"}),d=W({type:u,displayName:"碎片值"}),m=W({type:u,displayName:"愿望值"}),y=W({type:s,displayName:"宠物面板"}),v=W({type:s,displayName:"设置面板"}),w=W({type:s,displayName:"衣橱面板"}),P=W({type:s,displayName:"许愿面板"}),g(((C=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,i(t,"valueNode",_,a(t)),i(t,"fragmentValue_lb",E,a(t)),i(t,"wishValue_lb",S,a(t)),i(t,"petPanel",k,a(t)),i(t,"settingPanel",A,a(t)),i(t,"skinPanel",G,a(t)),i(t,"wishPanel",I,a(t)),t.currentPanelType=c.Pet,t}n(t,e);var l=t.prototype;return l.onLoad=function(){t.Ins=this,this.fragmentValue_lb.string=String(p.Ins.getFragmentValue()),this.wishValue_lb.string=String(f.Ins.currentWishValue),window.GameEvent.on(h.FRAGMENT_CHANGE,this.updateFragmentValue,this),window.GameEvent.on(h.WISH_VALUE_CHANGE,this.updateWishValue,this)},l.onDestroy=function(){t.Ins=null,window.GameEvent.off(h.FRAGMENT_CHANGE,this.updateFragmentValue,this),window.GameEvent.off(h.WISH_VALUE_CHANGE,this.updateWishValue,this)},l.showShowPanel=function(e){switch(this.currentPanelType=e,this.valueNode.active=!1,this.petPanel.active=!1,this.settingPanel.active=!1,this.skinPanel.active=!1,this.wishPanel.active=!1,e){case c.Setting:this.settingPanel.active=!0;break;case c.Skin:this.skinPanel.active=!0;break;case c.Wish:this.wishPanel.active=!0;break;case c.Pet:this.petPanel.active=!0}switch(e){case c.Skin:case c.Wish:case c.Setting:this.valueNode.active=!0;break;case c.Pet:this.valueNode.active=!1}},l.updateValueAni=function(e,t){parseInt(e.string,10)},l.updateFragmentValue=function(e){var t=parseInt(this.fragmentValue_lb.string,10)+e;this.fragmentValue_lb.string=t.toString()},l.updateWishValue=function(e){var t=parseInt(this.wishValue_lb.string,10)+e;this.wishValue_lb.string=t.toString()},l.onBtnDebugAddWishValue=function(){f.Ins.updateWishValue(5e3)},l.onBtnDebugAddFragmentValue=function(){p.Ins.addSkinFragment(500),window.GameEvent.emit(h.FRAGMENT_CHANGE,500)},t}(o)).Ins=null,_=t((N=C).prototype,"valueNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(N.prototype,"fragmentValue_lb",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"wishValue_lb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"petPanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"settingPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"skinPanel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"wishPanel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=N))||V));l._RF.pop()}}}));

System.register("chunks:///_virtual/PCWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,e,i;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.Component}],execute:function(){var r;t._RF.push({},"c6885hxOshB76abFPOBQ/Gu","PCWindow",void 0);var c=e.ccclass;e.property,n("PCWindow",c("PCWindow")(r=function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.onLoad=function(){window.parent&&(window.parent.GameEvent=window.GameEvent,window.isPCWindow=!0)},t}(i))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Pet_Sound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts"],(function(e){var t,n,i,r,o,u,a,p,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,a=e.Enum,p=e.AudioClip,l=e.Component},function(e){c=e.PetSoundSkinType}],execute:function(){var s,d,y,f,b,_,g;o._RF.push({},"14d8d8NQxdFk6bTk06WTd+8","Pet_Sound",void 0);var h=u.ccclass,m=u.property;e("Pet_Sound",(s=h("Pet_Sound"),d=m({type:a(c),displayName:"音效"}),y=m({type:p,displayName:"音效"}),s((_=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,i(t,"soundType",_,r(t)),i(t,"audioClip",g,r(t)),t}return n(t,e),t}(l)).prototype,"soundType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.默认}}),g=t(b.prototype,"audioClip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/PetMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Nav_Item.ts","./contants.ts","./MainControl.ts"],(function(n){var t,e,o,i,a,s,r,u,c,l,d,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,r=n.UITransform,u=n.Node,c=n.tween,l=n.Component},function(n){d=n.Nav_Item},function(n){h=n.GameEvent},function(n){p=n.MainControl}],execute:function(){var v,f,m,E,N;a._RF.push({},"2d1beOLmgtHbo7PledZwtnU","PetMenu",void 0);var _=s.ccclass,w=s.property;n("PetMenu",(v=_("PetMenu"),f=w({type:r,displayName:"菜单遮罩"}),v((N=t((E=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,o(t,"menu_mask",N,i(t)),t.show=!1,t.navList=[],t}e(t,n);var a=t.prototype;return a.onLoad=function(){var n=this,t=this.node.getComponentsInChildren(d);this.navList=t.map((function(t){return t.node.on(u.EventType.TOUCH_START,n.onBtnPetNavClick,n),{node:t.node,type:t.type,script:t}})),window.GameEvent.on(h.HIDE_EXPAND_MENU,this.hideExpandMenuHandle,this)},a.onDestroy=function(){var n=this;this.navList.forEach((function(t){t.node.off(u.EventType.TOUCH_START,n.onBtnPetNavClick,n)})),window.GameEvent.off(h.HIDE_EXPAND_MENU,this.hideExpandMenuHandle,this)},a.hideExpandMenuHandle=function(){console.log("隐藏菜单",this.show),this.show&&this.setNavItemExpandHandle(!1)},a.onBtnPetMenuClick=function(){var n=!this.show;this.setNavItemExpandHandle(n),console.log("点击宠物菜单",n),p.Ins._isClickMenuItem=!0,p.Ins.isMenuExpand=n},a.setNavItemExpandHandle=function(n){var t=this,e=n?620:0;return new Promise((function(o){c(t.menu_mask).to(.2,{height:e},{}).call((function(){t.show=n,o()})).start()}))},a.onBtnPetNavClick=function(n,t){var e,o=(null==n||null==(e=n.target)?void 0:e.name)||t;window.GameEvent.emit(h.CHANGE_NAV,o),this.setNavItemExpandHandle(!1)},t}(l)).prototype,"menu_mask",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/PetPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinePet.ts","./typings.ts","./index.ts","./setting.ts","./contants.ts","./skin.ts","./SteamControl.ts","./Pet_Sound.ts","./renderSkin.ts"],(function(e){var t,n,i,s,o,a,r,u,l,h,p,d,c,S,f,w,y,g,m,P,v,W,E,V,N,k,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.extends,a=e.createClass},function(e){r=e.cclegacy,u=e._decorator,l=e.Node,h=e.UIOpacity,p=e.Label,d=e.Enum,c=e.AudioSource,S=e.Vec3,f=e.Component},function(e){w=e.SpinePet},function(e){y=e.PetSoundSkinType,g=e.PetState,m=e.AchieveType},function(e){P=e.getRandom,v=e.formatNumber},function(e){W=e.SettingStore},function(e){E=e.GameEvent},function(e){V=e.SkinStore},function(e){N=e.SteamControl},function(e){k=e.Pet_Sound},function(e){b=e.renderSkin}],execute:function(){var I,_,O,H,L,T,A,G,R,C,M,D,U,z,K,x,B,F;r._RF.push({},"dde8fjcQyFDoZFH3zn5JUyh","PetPanel",void 0);var j=u.ccclass,Q=u.property;e("PetPanel",(I=j("PetPanel"),_=Q({type:w,displayName:"工作的宠物"}),O=Q({type:w,displayName:"睡觉的宠物"}),H=Q({type:l,displayName:"宠物节点"}),L=Q({type:h,displayName:"宠物透明度"}),T=Q({type:p,displayName:"显示值"}),A=Q({type:l,displayName:"音效节点"}),G=Q({type:d(y),displayName:"当前类型"}),I(((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).petOnPressSoundSource=new c,i(t,"workingSpine",M,s(t)),i(t,"sleepSpine",D,s(t)),i(t,"spineNode",U,s(t)),i(t,"petOpacity",z,s(t)),i(t,"showValue_lb",K,s(t)),i(t,"soundNode",x,s(t)),i(t,"soundType",B,s(t)),t.PET_OPACITY_MIN=50,t.petState=g.Working,t.currentWishValue=0,t.soundList=[],t}n(t,e);var r=t.prototype;return r.onLoad=function(){t.Ins=this,this.initShowWishValue(),this.currentWishValue=V.Ins.getWishValue(),this.setWishValue(this.currentWishValue),this.setMirrorMode(W.Ins.getMirrorMode()),window.GameEvent.on(E.PRESS_PET,this.addOneWishValue,this),window.GameEvent.on(E.PET_SLEEP,this.petIntoSleepHandle,this),window.GameEvent.on(E.CHANGE_RANDOM_SKIN,this.changeRandomSkinHandle,this),window.GameEvent.on(E.RENDER_SKIN,this.drawUpLocalSkinHandle,this),this.schedule(this.saveWishValue,3),this.soundList=this.soundNode.getComponents(k)},r.onDestroy=function(){t.Ins=null,window.GameEvent.off(E.PRESS_PET,this.addOneWishValue,this),window.GameEvent.off(E.PET_SLEEP,this.petIntoSleepHandle,this),window.GameEvent.off(E.CHANGE_RANDOM_SKIN,this.changeRandomSkinHandle,this),window.GameEvent.off(E.RENDER_SKIN,this.drawUpLocalSkinHandle,this),this.unschedule(this.saveWishValue)},r.changeRandomSkinHandle=function(e){var t=e.owned,n=void 0===t||t?V.Ins.getOwnedSkinKeyList():V.Ins.getSkinKeyList(),i={};n.forEach((function(e){var t=e.split("-")[0];i[t]?i[t].push(e):i[t]=[e]})),n.length<8?window.GameEvent.emit(E.SHOW_BUBBLE,{message:"装扮过少，请先去许愿获取吧~"}):(Object.keys(i).forEach((function(e){var t=i[e],n=P(t);V.Ins.setPetSkinDressUp(e,n)})),console.log("切换随机装扮",i),this.drawUpLocalSkinHandle(),this.addOneWishValue())},r.drawUpLocalSkinHandle=function(e){void 0===e&&(e={}),this.petState!==g.Working&&this.changePetState(g.Working);var t=V.Ins.getPetSkinDressUp();b(o({},t,e),this.petSpine)},r.setMirrorMode=function(e){var t=e?-1:1,n=this.spineNode.scale.x,i=this.spineNode.scale.y;this.spineNode.scale=new S(t*Math.abs(n),i,1);var s=this.showValue_lb.node.parent.getPosition();s.x=e?150:20,this.showValue_lb.node.parent.setPosition(s)},r.updateWishValue=function(e){this.currentWishValue=this.currentWishValue+e,this.setWishValue(this.currentWishValue),window.GameEvent.emit(E.WISH_VALUE_CHANGE,e)},r.petIntoSleepHandle=function(){this.changePetState(g.Sleeping),this.setWishNodeShow(!1)},r.changePetState=function(e){this.petState!==e&&(this.petState=e,this.petState===g.Working?(this.workingSpine.node.active=!0,this.sleepSpine.node.active=!1):(this.workingSpine.node.active=!1,this.sleepSpine.node.active=!0))},r.setPetOpacity=function(e){var t=e*(255-this.PET_OPACITY_MIN)+this.PET_OPACITY_MIN;this.petOpacity&&(this.petOpacity.opacity=t)},r.setWishValue=function(e){this.showValue_lb.string=v(e)},r.saveWishValue=function(){V.Ins.setWishValue(this.currentWishValue)},r.addOneWishValue=function(){var e=this;if(this.petState===g.Working?this.workingSpine.addQmyAnimation():(this.changePetState(g.Working),this.workingSpine.addQmyAnimation(),this.initShowWishValue()),W.Ins.getPressPetSound()){var t=this.soundList.find((function(t){return t.soundType===e.soundType}));if(t){var n=P(t.audioClip);this.petOnPressSoundSource.playOneShot(n)}}this.updateWishValue(1);var i=V.Ins.addHistoryWishValueOne();N.Ins.setStatInt(m.WISH_VALUE,i,i%10==0)},r.setWishNodeShow=function(e){this.showValue_lb.node.parent.active=e},r.initShowWishValue=function(){var e=!window.isPCWindow&&W.Ins.getShowWishValue();this.setWishNodeShow(e)},a(t,[{key:"petSpine",get:function(){return this.petState===g.Working?this.workingSpine:this.sleepSpine}}]),t}(f)).Ins=null,M=t((C=F).prototype,"workingSpine",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"sleepSpine",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(C.prototype,"spineNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"petOpacity",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(C.prototype,"showValue_lb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"soundNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"soundType",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.默认}}),R=C))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformVisable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts"],(function(t){var e,r,i,a,o,n,s,l,c,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){n=t.cclegacy,s=t._decorator,l=t.Enum,c=t.sys,u=t.Component},function(t){f=t.PlatformOS}],execute:function(){var p,m,y,b,h;n._RF.push({},"72f82eFUVNDpqqmBCWsVV7X","PlatformVisable",void 0);var v=s.ccclass,P=s.property;t("PlatformVisable",(p=v("PlatformVisable"),m=P({type:l(f),displayName:"仅某个平台可见"}),p((h=e((b=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,i(e,"visablePlatform",h,a(e)),e}return r(e,t),e.prototype.onLoad=function(){this.node.active=this.OS===this.visablePlatform},o(e,[{key:"OS",get:function(){return c.os}}]),e}(u)).prototype,"visablePlatform",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Mac}}),y=b))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/Qipao_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./index.ts","./contants.ts","./ResourceLoader.ts","./skin.ts"],(function(e){var t,n,i,r,a,s,o,u,c,p,l,h,b,m,d,f,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.sp,p=e.Label,l=e.Component,h=e.Color},function(e){b=e.PetSkinLevel},function(e){m=e.delay},function(e){d=e.LevelNameColor},function(e){f=e.ResourceLoader},function(e){_=e.SkinStore}],execute:function(){var y,v,x,k,g,w,S,I,R;o._RF.push({},"a1035ldEF5Ie46qg362TDOm","Qipao_Item",void 0);var A=u.ccclass,q=u.property,L="qipao_r_huxi",z="qipao_r_xs",F="qipao_sr_huxi",N="qipao_sr_xs",D="qipao_ssr_huxi",Q="qipao_ssr_xs",C="sp_huxi",E="wg_sp";e("Qipao_Item",(y=A("Qipao_Item"),v=q({type:c.Skeleton,displayName:"Spine 节点"}),x=q({type:p,displayName:"名字"}),k=q({type:p,displayName:"碎片数量"}),y((S=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"spine",S,r(t)),i(t,"name_lb",I,r(t)),i(t,"num_lb",R,r(t)),t.reward=null,t.isInit=!1,t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.name_lb.node.active=!1,this.num_lb.node.active=!1},o.setReward=function(){var e=a(s().mark((function e(t){var n,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.reward=t,this.isInit=!0,this.spine.node.active=!0,n=t.part1,(i=_.Ins.getSkinItemById(n))&&(r=t.key+"/"+i.fileName,f.loadSpriteFrame(r).then((function(e){console.log("part1Key",r,e)}))),this.name_lb.node.active=!1,this.num_lb.node.active=!1,this.name_lb.color=new h(d[t.quality]),this.name_lb.string=t.name,this.num_lb.string=t.sellFragment.toString();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.playHuxiAnimation=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInit){e.next=2;break}return e.abrupt("return");case 2:if(this.node.active=!0,!this.reward.needExchange){e.next=12;break}return this.spine.setAnimation(0,E,!1),e.next=7,m(200);case 7:return e.next=9,m(350);case 9:this.spine.setAnimation(0,C,!0),e.next=21;break;case 12:e.t0=this.reward.quality,e.next=e.t0===b.R?15:e.t0===b.SR?17:e.t0===b.SSR?19:21;break;case 15:return this.spine.setAnimation(0,L,!0),e.abrupt("break",21);case 17:return this.spine.setAnimation(0,F,!0),e.abrupt("break",21);case 19:return this.spine.setAnimation(0,D,!0),e.abrupt("break",21);case 21:this.reward.needExchange?(this.num_lb.node.active=!0,this.name_lb.node.active=!1):(this.name_lb.node.active=!0,this.num_lb.node.active=!1);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.playXsAnimation=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInit){e.next=2;break}return e.abrupt("return");case 2:return this.node.active=!1,e.abrupt("return");case 8:e.next=22;break;case 10:e.t0=this.reward.quality,e.next=e.t0===b.R?13:e.t0===b.SR?15:e.t0===b.SSR?17:19;break;case 13:return this.spine.setAnimation(0,z,!1),e.abrupt("break",19);case 15:return this.spine.setAnimation(0,N,!1),e.abrupt("break",19);case 17:return this.spine.setAnimation(0,Q,!1),e.abrupt("break",19);case 19:return e.next=21,m(500);case 21:this.node.active=!1;case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(l)).prototype,"spine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(w.prototype,"name_lb",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(w.prototype,"num_lb",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/renderSkin.ts",["cc","./skin.ts","./skin_config.ts","./ResourceLoader.ts"],(function(e){var t,n,a,i,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.SkinStore},function(e){a=e.CapySkinPrefix,i=e.CapySkin},function(e){r=e.ResourceLoader}],execute:function(){e("renderSkin",(function(e,t){console.log("绘制本地的装扮",e),Object.keys(e).forEach((function(o){var c=e[o],f=n.Ins.getSkinObjectInfoById(c);if(f){var s=f.part1,u=f.part2,S=f.part3;if(s){var m=n.Ins.getSkinItemById(s);if(m){var l=a+"/"+i[o][0]+"/"+m.fileName;r.loadSpriteFrame(l).then((function(e){t.changeSlotPng(m.slotName,m.attachment,e.texture)}))}}if(u){var d=n.Ins.getSkinItemById(u);if(d){var k=a+"/"+i[o][1]+"/"+d.fileName;r.loadSpriteFrame(k).then((function(e){t.changeSlotPng(d.slotName,d.attachment,e.texture)}))}}if(S){var g=n.Ins.getSkinItemById(S);if(g){var h=a+"/"+i[o][2]+"/"+g.fileName;r.loadSpriteFrame(h).then((function(e){t.changeSlotPng(g.slotName,g.attachment,e.texture)}))}}}}))})),t._RF.push({},"add63Bpn79PGKCwmnk6U5nG","renderSkin",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoader.ts",["cc"],(function(e){var n,o,t,r,u;return{setters:[function(e){n=e.cclegacy,o=e.assetManager,t=e.resources,r=e.SpriteFrame,u=e.JsonAsset}],execute:function(){n._RF.push({},"80386GVkENE661kRuni6FVa","ResourceLoader",void 0);e("ResourceLoader",function(){function e(){}return e.loadSpriteFrame=function(e,n){return void 0===n&&(n=!1),new Promise((function(u,c){n?o.loadRemote(e,(function(e,n){e?c(e):u(n)})):t.load(e+"/spriteFrame",r,(function(e,n){e?c(e):u(n)}))}))},e.loadJSON=function(e,n){return void 0===n&&(n=!1),new Promise((function(r,c){n?o.loadRemote(e,(function(e,n){e?c(e):r(n)})):t.load(e,u,(function(e,n){e?c(e):r(n.json)}))}))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ru_RU.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"cce91EW0WZP14hxFi3Z4G2n","ru_RU",void 0);var a=e("languages",{language:"Русский",version:"1.0.0",settings:{userTip:"Горячие клавиши:\nF1 Скрыть/показать (boss key)\nF2 Сменить случайный скин",language:"Язык",alwaysOnTop:"Всегда на верху",autoUpdate:"Автоматическое обновление",checkUpdate:"Проверить обновление",autoStart:"Автозапуск",mirrorMode:"Зеркальный режим",pressPetSound:"Звук удара",skipAnimation:"Пропустить анимацию",adminMode:"Режим администратора",taskbarIcon:"Иконка в трее",visibleOnAllWorkspaces:"Видимость на всех рабочих столах",showWishValue:"Показывать желания",wishBubbleTip:"Поп-ап с желаниями",hadInputPermission:"Разрешить ввод",appInfo:"О нас (敲敲敲好运)",goSetting:"Перейти в настройки",exitApp:"Выход",petScale:"Размер окна",petOpacity:"Прозрачность",clearAll:"Очистить все данные"},skin:{saveBtn:"Сохранить",saveBuy:"Покупка фрагментов"},wish:{skipAnimation:"Пропустить анимацию",wishOnce:"Сделать желание",wishFive:"Сделать 5 желаний",receive:"Получить"},toast:{noFragment:"Недостаточно фрагментов, пожалуйста, зайдите в желания, чтобы сделать желание!",noWish:"Недостаточно желаний, пожалуйста, накопьте желания!",canWish:"Накоплено много желаний, можно делать желания!"},pet:{capy:"Капибара"}});window.languages||(window.languages={}),window.languages.ru_RU=a,n._RF.pop()}}}));

System.register("chunks:///_virtual/Select_View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(e){var t,n,o,r,i,s,c,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.director,i=e.Canvas,s=e.Vec3,c=e.Component},function(e){a=e.toXY}],execute:function(){var l;n._RF.push({},"7613fRBMzFNyYps7AhoQExo","Select_View",void 0);var p=o.ccclass;o.property,e("Select_View",p("Select_View")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).preParent=null,t.prePos=null,t}t(n,e);var o=n.prototype;return o.openViewHandle=function(){var e=this.node;if(e){var t=r.getScene().getComponentInChildren(i).node.children[1];if(t){var n=e.parent;this.preParent=n,this.prePos=e.position,e.parent=t;var o=a(n,t);e.setPosition(o.add(new s(40,40,0))),e.active=!0}else console.error("找不到Canvas节点")}},o.closeViewHandle=function(){this.node&&(this.node.active=!1,this.node.parent=this.preParent,this.node.setPosition(this.prePos))},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/Setting_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./Language_Select.ts","./Select_View.ts"],(function(e){var t,i,n,s,l,o,r,g,a,h,d,c,u,S,f,y,p,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,l=e.createClass},function(e){o=e.cclegacy,r=e._decorator,g=e.Enum,a=e.director,h=e.Button,d=e.Label,c=e.ToggleContainer,u=e.Toggle,S=e.Slider,f=e.Component},function(e){y=e.SettingKey},function(e){p=e.Language_Select},function(e){C=e.Select_View}],execute:function(){var w,m,_,v,K;o._RF.push({},"8c45fXCnxZAgpIPcTSZge0p","Setting_Item",void 0);var T=r.ccclass,I=r.property;e("Setting_item",(w=T("Setting_item"),m=I({type:g(y),displayName:"设置项"}),w((K=t((v=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,n(t,"settingKey",K,s(t)),t._toggle=null,t._select=null,t._slider=null,t.isSettingWindow=!1,t.sliderDebounceTimer=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){if(this.settingKey){this.isSettingWindow="setting"===a.getScene().name;var e=this.node.getComponent(h);e&&e.node.on("click",this.onBtnSettingClick,this),this.isSlider&&this._slider.node.on("slide",this.onBtnSliderHandle,this)}else console.log("设置项为空")},o.onBtnSettingClick=function(e){if(this.settingKey)if(this.isToggle){var t,i,n,s,l=this.isSettingWindow?null==(t=window.SettingWindow)||null==(t=t.settingData)?void 0:t[this.settingKey]:null==(i=window.SettingPanel)||null==(i=i.settingData)?void 0:i[this.settingKey],o=!l;if(this.settingKey===y.hadInputPermission){if(l)return}else this.setToggleState(o);if(this.isSettingWindow)null==(n=window.SettingWindow)||n.handleSettingChange(this.settingKey,o);else null==(s=window.SettingPanel)||s.handleSettingChange(this.settingKey,o)}else if(this.isSelect){var r=this.node.getComponentInChildren(C);r&&r.openViewHandle()}else if(this.isSlider);else if(this.onlyClick){var g,a;if(this.isSettingWindow)null==(g=window.SettingWindow)||g.handleSettingChange(this.settingKey,"");else null==(a=window.SettingPanel)||a.handleSettingChange(this.settingKey,"")}},o.onBtnSliderHandle=function(e){var t=this;if(this.settingKey){var i=Number(e.progress.toFixed(2));console.log("onBtnSliderHandle",this.settingKey,i),this.sliderDebounceTimer&&clearTimeout(this.sliderDebounceTimer),this.sliderDebounceTimer=setTimeout((function(){var e,n;t.isSettingWindow?null==(e=window.SettingWindow)||e.handleSettingChange(t.settingKey,i):null==(n=window.SettingPanel)||n.handleSettingChange(t.settingKey,i)}),100)}},o.setToggleState=function(e){if(this.isToggle&&(this._toggle.isChecked=e),this.settingKey===y.hadInputPermission){var t=e,i=this.node.children[1].getChildByName("no"),n=this.node.children[1].getChildByName("yes");t?(i.active=!1,n.active=!0):(i.active=!0,n.active=!1)}},o.setLanguageSelectState=function(e){if(this.isSelect){this._select.node.name=e;var t=this._select.node.getComponentsInChildren(p);t&&t.forEach((function(t){t.setLanguage(e)}))}},o.setSliderState=function(e){this.isSlider&&(this._slider.progress=e)},o.setLabelState=function(e){var t=this.node.getComponentInChildren(d);t&&(t.string=e)},l(t,[{key:"isToggle",get:function(){if(null!==this._toggle)return!!this._toggle;var e=!this.node.getComponentInChildren(c)&&this.node.getComponentInChildren(u);return!!e&&(this._toggle=e,!0)}},{key:"isSelect",get:function(){if(null!==this._select)return!!this._select;var e=this.node.getComponentInChildren(c);return!!e&&(this._select=e,!0)}},{key:"isSlider",get:function(){if(null!==this._slider)return!!this._slider;var e=this.node.getComponentInChildren(S);return!!e&&(this._slider=e,!0)}},{key:"onlyClick",get:function(){return!(this.isToggle||this.isSelect||this.isSlider)}}]),t}(f)).prototype,"settingKey",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.None}}),_=v))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/setting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./contants.ts","./typings.ts","./storage2.ts"],(function(t){var a,e,n,s,i,o;return{setters:[function(t){a=t.createClass,e=t.extends},function(t){n=t.cclegacy},function(t){s=t.APP_NAME},function(t){i=t.LanguageType},function(t){o=t.StorageUtils}],execute:function(){n._RF.push({},"6b0fbkMtW5CBr8uzgiKjnla","setting",void 0);var u=t("SettingStore",function(){function t(){var a=this;this.data={language:i.ZH_CN,version:"0.0.0",alwaysOnTop:!1,autoUpdate:!1,autoStart:!0,mirrorMode:!1,skipAnimation:!1,hadInputPermission:!1,adminMode:!1,pressPetSound:!1,taskbarIcon:!1,visibleOnAllWorkspaces:!0,showWishValue:!0,wishBubbleTip:!0,petScale:.5,petOpacity:1};var n=JSON.parse(localStorage.getItem(t.SETTINGS_KEY)||"{}");this.data=e({},this.data,n),o.Ins.get(t.SETTINGS_KEY).then((function(t){a.data=e({},a.data,t)}))}var n=t.prototype;return n.save=function(){localStorage.setItem(t.SETTINGS_KEY,JSON.stringify(this.data)),o.Ins.set(t.SETTINGS_KEY,this.data)},n.clearAll=function(){localStorage.removeItem(t.SETTINGS_KEY),o.Ins.set(t.SETTINGS_KEY,{})},n.getVersion=function(){return this.data.version},n.setVersion=function(t){this.data.version=t,this.save()},n.getLanguage=function(){return this.data.language},n.setLanguage=function(t){this.data.language=t,this.save()},n.getAlwaysOnTop=function(){return this.data.alwaysOnTop},n.setAlwaysOnTop=function(t){this.data.alwaysOnTop=t,this.save()},n.getAutoUpdate=function(){return this.data.autoUpdate},n.setAutoUpdate=function(t){this.data.autoUpdate=t,this.save()},n.getAutoStart=function(){return this.data.autoStart},n.setAutoStart=function(t){this.data.autoStart=t,this.save()},n.getMirrorMode=function(){return this.data.mirrorMode},n.setMirrorMode=function(t){this.data.mirrorMode=t,this.save()},n.getSkipAnimation=function(){return this.data.skipAnimation},n.setSkipAnimation=function(t){this.data.skipAnimation=t,this.save()},n.getAdminMode=function(){return this.data.adminMode},n.setAdminMode=function(t){this.data.adminMode=t,this.save()},n.getPressPetSound=function(){return this.data.pressPetSound},n.setPressPetSound=function(t){this.data.pressPetSound=t,this.save()},n.getTaskbarIcon=function(){return this.data.taskbarIcon},n.setTaskbarIcon=function(t){this.data.taskbarIcon=t,this.save()},n.getVisibleOnAllWorkspaces=function(){return this.data.visibleOnAllWorkspaces},n.setVisibleOnAllWorkspaces=function(t){this.data.visibleOnAllWorkspaces=t,this.save()},n.getShowWishValue=function(){return this.data.showWishValue},n.setShowWishValue=function(t){this.data.showWishValue=t,this.save()},n.getWishBubbleTip=function(){return this.data.wishBubbleTip},n.setWishBubbleTip=function(t){this.data.wishBubbleTip=t,this.save()},n.getPetOpacity=function(){return this.data.petOpacity},n.setPetOpacity=function(t){this.data.petOpacity=t,this.save()},n.getPetScale=function(){return this.data.petScale},n.complatePetScaleValue=function(){return 400+200*(this.data.petScale-.5)},n.setPetScale=function(t){this.data.petScale=t,this.save()},n.getHadInputPermission=function(){return this.data.hadInputPermission},n.setHadInputPermission=function(t){this.data.hadInputPermission=t,this.save()},a(t,null,[{key:"Ins",get:function(){return t._ins||(t._ins=new t)}}]),t}());u.SETTINGS_KEY=s+"_settings",u._ins=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./Setting_Item.ts","./contants.ts","./MainControl.ts"],(function(t){var e,n,a,i,s,o,r,l,g,u,c,p,d,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,l=t._decorator,g=t.Node,u=t.Component},function(t){c=t.SettingKey},function(t){p=t.Setting_item},function(t){d=t.MockSettingData,f=t.GameEvent},function(t){h=t.MainControl}],execute:function(){var S,v,y,L,m,C;r._RF.push({},"0d8d1o5NcBCdZkuxGrPecrH","SettingPanel",void 0);var D=l.ccclass,w=l.property;t("SettingPanel",(S=D("SettingPanel"),v=w({type:g,displayName:"设置选项列表"}),S(((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,a(e,"settingList",m,i(e)),e.settingData=d,e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=this;e.Ins=this,window.SettingPanel=e.Ins,h.Ins.getSettingData().then((function(e){t.settingData=e,t.updateSettingList()})),window.GameEvent.on(f.LANGUAGE_CHANGE,this.updateLanguageSelectHanlde,this)},r.onDestroy=function(){e.Ins=null,window.SettingPanel=null,window.GameEvent.off(f.LANGUAGE_CHANGE,this.updateLanguageSelectHanlde,this)},r.updateLanguageSelectHanlde=function(t){var e=this.settingList.getChildByName("language");if(e){var n=e.getComponent(p);n&&n.setLanguageSelectState(t),this.handleSettingChange(c.language,t)}},r.updateSettingList=function(){var t=s(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.settingList.children.forEach((function(t){var n=t.getComponent(p);if(n){var a=n.settingKey;if(n.isToggle){var i=e.settingData[a];n.setToggleState(i)}else if(n.isSelect&&a===c.language){var s=e.settingData[a];n.setLanguageSelectState(s)}else if(n.isSlider){var o=e.settingData[a];n.setSliderState(o)}else a===c.version&&n.setLabelState(e.settingData[a])}}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.handleSettingChange=function(t,e){console.log("handleSettingChange",t,e),this.settingData[t]=e,h.Ins.handleChangeSetting({payload:{key:t,value:e}})},e}(u)).Ins=null,m=e((L=C).prototype,"settingList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TauriSDK.ts","./Setting_Item.ts","./typings.ts","./contants.ts","./setting.ts","./LanguageData.ts"],(function(t){var e,n,a,i,o,s,r,u,l,c,g,d,p,h,S,f,w,v,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.extends,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,c=t.Node,g=t.Component},function(t){d=t.TauriSDK},function(t){p=t.Setting_item},function(t){h=t.SettingWindowEvent,S=t.SettingKey},function(t){f=t.MockSettingData,w=t.WebviewLabel,v=t.GameEvent},function(t){m=t.SettingStore},function(t){y=t.default}],execute:function(){var C,b,k,D,I,L,x,M;u._RF.push({},"125benluNpJlJSaXoxXxL4X","SettingWindow",void 0);var U=l.ccclass,T=l.property;t("SettingWindow",(C=U("SettingWindow"),b=T({type:c,displayName:"拖拽移动节点"}),k=T({type:c,displayName:"设置选项列表"}),C(((M=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,a(e,"dragMove_node",L,i(e)),a(e,"settingList",x,i(e)),e.settingData=f,e.listenSettingInfoCb=null,e.onBtnPetMouseDown=function(){d.isInTauri&&d.appWindowStartDragging()},e.getSettingInfoHandler=function(t){e.settingData=t.payload,e.updateSettingList()},e.updateStatus={isChecking:!1,isDownloading:!1,downloadProgress:0,error:null},e}n(e,t);var u=e.prototype;return u.onLoad=function(){var t,n;(e.Ins=this,window.SettingWindow=e.Ins,y.init(m.Ins.getLanguage()),d.isInTauri)&&(null==(t=d.appWindow)||t.emitTo(w.MAIN,h.SendGetSetting),this.listenSettingInfoCb=null==(n=d.appWindow)?void 0:n.listen(h.ReceiveSettingInfo,this.getSettingInfoHandler,this),this.dragMove_node.on(c.EventType.MOUSE_DOWN,this.onBtnPetMouseDown,this));d.isInTauri||this.updateSettingList(),window.GameEvent.on(v.LANGUAGE_CHANGE,this.updateLanguageSelectHanlde,this)},u.onDestroy=function(){e.Ins=null,window.SettingWindow=null,this.listenSettingInfoCb&&this.listenSettingInfoCb(),window.GameEvent.off(v.LANGUAGE_CHANGE,this.updateLanguageSelectHanlde,this)},u.updateLanguageSelectHanlde=function(t){var e=this.settingList.getChildByName("language");if(e){var n=e.getComponent(p);n&&n.setLanguageSelectState(t),this.handleSettingChange(S.language,t)}},u.updateSettingList=function(){var t=s(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.settingList.children.forEach((function(t){var n=t.getComponent(p);if(n){var a=n.settingKey;if(n.isToggle){var i=e.settingData[a];n.setToggleState(i)}else if(n.isSelect&&a===S.language){var o=e.settingData[a];n.setLanguageSelectState(o)}else if(n.isSlider){var s=e.settingData[a];n.setSliderState(s)}else a===S.version&&n.setLabelState(e.settingData[a])}}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onBtnCloseSettingClick=function(){var t;null==(t=d.appWindow)||t.emitTo(w.MAIN,h.SendCloseSetting)},u.onBtnExitClick=function(){d.processExit()},u.onBtnClearAllClick=function(){var t;null==(t=d.appWindow)||t.emitTo(w.MAIN,h.SendClearAll)},u.handleSettingChange=function(t,e){var n;console.log("handleSettingChange",t,e),this.settingData[t]=e,null==(n=d.appWindow)||n.emitTo(w.MAIN,h.SendChangeSetting,{key:t,value:e}),"language"===t&&y.updateLanguage(e)},u.checkUpdate=function(){var t=s(r().mark((function t(){var e,n,a,i,o,s,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.updateStatus.isChecking&&!this.updateStatus.isDownloading){t.next=3;break}return console.log("Update process already in progress"),t.abrupt("return");case 3:return this.updateStatus.isChecking=!0,this.updateStatus.error=null,t.prev=5,this.showUpdateStatus("正在检查更新...",!1),t.next=9,d.pluginUpdaterCheck({timeout:1e4,headers:{"X-AccessKey":"xb4A-0xSNpeI84BGImITrw"}});case 9:if(e=t.sent,this.updateStatus.isChecking=!1,!e){t.next=24;break}return n=e.version,a=e.currentVersion,i=e.body,o=void 0===i?"":i,s=e.date,u=e.downloadAndInstall,console.log("发现新版本 "+n+"，当前版本 "+a),console.log("更新说明: "+o),console.log("发布日期: "+s),t.next=18,this.showUpdateConfirmDialog(n,a,o,s);case 18:if(!t.sent){t.next=22;break}return t.next=22,this.performUpdate(u);case 22:t.next=26;break;case 24:this.showUpdateStatus("已是最新版本",!0),console.log("当前已是最新版本");case 26:t.next=34;break;case 28:t.prev=28,t.t0=t.catch(5),this.updateStatus.isChecking=!1,this.updateStatus.error=t.t0.message||"检查更新失败",this.showUpdateStatus("检查更新失败: "+this.updateStatus.error,!0),console.error("检查更新失败:",t.t0);case 34:case"end":return t.stop()}}),t,this,[[5,28]])})));return function(){return t.apply(this,arguments)}}(),u.performUpdate=function(){var t=s(r().mark((function t(e){var n,a,i=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateStatus.isDownloading=!0,this.updateStatus.downloadProgress=0,t.prev=2,n=0,a=0,t.next=7,e((function(t){switch(t.event){case"Started":a=t.data.contentLength,console.log("开始下载，总大小: "+i.formatFileSize(a)),i.showUpdateStatus("开始下载更新包 ("+i.formatFileSize(a)+")",!1);break;case"Progress":n+=t.data.chunkLength,i.updateStatus.downloadProgress=Math.round(n/a*100),console.log("下载进度: "+i.updateStatus.downloadProgress+"% ("+i.formatFileSize(n)+"/"+i.formatFileSize(a)+")"),i.showUpdateStatus("下载中... "+i.updateStatus.downloadProgress+"%",!1);break;case"Finished":console.log("下载完成，准备安装"),i.showUpdateStatus("下载完成，准备重启应用...",!1)}}));case 7:this.updateStatus.isDownloading=!1,console.log("更新安装完成，即将重启应用"),setTimeout((function(){d.processRelaunch()}),1e3),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(2),this.updateStatus.isDownloading=!1,this.updateStatus.error=t.t0.message||"更新下载失败",this.showUpdateStatus("更新失败: "+this.updateStatus.error,!0),console.error("更新下载失败:",t.t0);case 18:case"end":return t.stop()}}),t,this,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),u.showUpdateConfirmDialog=function(){var t=s(r().mark((function t(e,n,a,i){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"发现新版本",o="新版本: "+e+"\n当前版本: "+n+"\n\n更新内容:\n"+a+"\n\n发布时间: "+i+"\n\n是否立即更新？",t.next=4,d.dialogConfirm("发现新版本",o);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n,a,i){return t.apply(this,arguments)}}(),u.showUpdateStatus=function(t,e){console.log("更新状态:",t),d.isInTauri&&e&&(t.includes("失败")||t.includes("错误")?d.dialogMessage("更新状态",t,"error"):d.dialogMessage("更新状态",t,"info")),e&&setTimeout((function(){}),3e3)},u.getUpdateStatus=function(){return o({},this.updateStatus)},u.formatFileSize=function(t){if(0===t)return"0 B";var e=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,e)).toFixed(2))+" "+["B","KB","MB","GB"][e]},e}(g)).Ins=null,L=e((I=M).prototype,"dragMove_node",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"settingList",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=I))||D));u._RF.pop()}}}));

System.register("chunks:///_virtual/skin_config.ts",["cc","./typings.ts"],(function(_){var i,t;return{setters:[function(_){i=_.cclegacy},function(_){t=_.PetSkinType}],execute:function(){var f,n;i._RF.push({},"9350fQ7clhESoz5btf6INBR","skin_config",void 0);_("CapySkinPrefix","capy_skins"),_("CapySkin",((f={})[t.Head]=["qf_hz1"],f[t.Body]=["qf_hz2/qf_hz2_mid_cloth","qf_hz2/qf_hz2_mid_xz_l","qf_hz2/qf_hz2_mid_xz_r"],f[t.Shouchi]=["qf_hz3"],f[t.Muyu]=["qf_hz4"],f[t.Text]=["qf_hz5"],f[t.Lotus]=["qf_hz6"],f)),_("CapyDefaultSkin",((n={})[t.Head]="1-1",n[t.Body]="2-1",n[t.Shouchi]="3-2",n[t.Muyu]="4-1",n[t.Text]="5-1",n[t.Lotus]="6-1",n));i._RF.pop()}}}));

System.register("chunks:///_virtual/Skin_Nav_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./contants.ts"],(function(t){var i,e,n,a,c,o,s,r,p,v,u,y,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){c=t.cclegacy,o=t._decorator,s=t.Enum,r=t.UIOpacity,p=t.Node,v=t.tween,u=t.Component},function(t){y=t.PetSkinType},function(t){l=t.GameEvent}],execute:function(){var h,d,f,I,_;c._RF.push({},"fe646auzZxNZpFBC5vA8u1l","Skin_Nav_Item",void 0);var O=o.ccclass,k=o.property;t("Skin_Nav_Item",(h=O("Skin_Nav_Item"),d=k({type:s(y),displayName:"装扮类型"}),h((_=i((I=function(t){function i(){for(var i,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return i=t.call.apply(t,[this].concat(c))||this,n(i,"skinType",_,a(i)),i.activePositionY=[0,-4],i.activeUIOpacity=null,i.isActive=null,i}e(i,t);var c=i.prototype;return c.onLoad=function(){this.activeUIOpacity=this.node.children[1].getComponent(r),this.node.on(p.EventType.TOUCH_START,this.onBtnSkinTypeClick,this)},c.onBtnSkinTypeClick=function(){window.GameEvent.emit(l.TOOGLE_SKIN_TYPE,this.skinType)},c.setNavStatus=function(t,i){void 0===i&&(i=!1),this.isActive!==t&&(this.isActive=t,this.activeUIOpacity&&(this.activeUIOpacity.node.active||(this.activeUIOpacity.node.active=!0),i?(this.activeUIOpacity.node.setPosition(0,this.activePositionY[t?1:0]),this.activeUIOpacity.opacity=t?255:0):(v(this.activeUIOpacity.node).to(.16,{y:t?this.activePositionY[1]:this.activePositionY[0]}).start(),v(this.activeUIOpacity).to(.16,{opacity:t?255:0},{easing:"cubicOut"}).start())))},i}(u)).prototype,"skinType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Head}}),f=I))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/Skin_Row_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkinCard.ts"],(function(i){var n,t,e,r,o,a,s,c,l,u,p;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,s=i.Node,c=i.Prefab,l=i.instantiate,u=i.Component},function(i){p=i.SkinCard}],execute:function(){var f,d,k,m,h,y,_;o._RF.push({},"32c0cHcw0xP4anj58gOtHrN","Skin_Row_Item",void 0);var b=a.ccclass,v=a.property;i("SkinRow_Item",(f=b("SkinRow_Item"),d=v({type:s,displayName:"装扮列表"}),k=v({type:c,displayName:"装扮预制体"}),f((y=n((h=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=i.call.apply(i,[this].concat(o))||this,e(n,"skinList",y,r(n)),e(n,"skinItem_prefab",_,r(n)),n}t(n,i);var o=n.prototype;return o.initSkinRow=function(i){var n=this;this.skinList.removeAllChildren(),i.forEach((function(i){var t=l(n.skinItem_prefab);t.name="skinCard_"+i.type+"_"+i.id,t.getComponent(p).initSkinCard(i),n.skinList.addChild(t)}))},o.updateSkinRow=function(i){this.skinList.children.forEach((function(n){var t=n.getComponent(p),e=i.find((function(i){return i.id===t.info.id}));e&&t.initSkinCard(e,!0)}))},n}(u)).prototype,"skinList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(h.prototype,"skinItem_prefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Skin_Scroll_View.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./Skin_Row_Item.ts"],(function(n){var i,e,t,r,o,l,a,c,s,p,u,f,_;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,a=n.Enum,c=n.Node,s=n.Prefab,p=n.instantiate,u=n.Component},function(n){f=n.PetSkinType},function(n){_=n.SkinRow_Item}],execute:function(){var y,k,h,d,m,w,S,b,v;o._RF.push({},"4e509vbNH9MuIN5Y/ImmKDc","Skin_Scroll_View",void 0);var g=l.ccclass,R=l.property;n("Skin_Scroll_View",(y=g("Skin_Scroll_View"),k=R({type:a(f),displayName:"装扮类型"}),h=R({type:c,displayName:"滚动组"}),d=R({type:s,displayName:"每行的装扮预制体"}),y((S=i((w=function(n){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return i=n.call.apply(n,[this].concat(o))||this,t(i,"skinType",S,r(i)),t(i,"scroll_content",b,r(i)),t(i,"skinRow_prefab",v,r(i)),i.skinList=[],i}e(i,n);var o=i.prototype;return o.initSkinList=function(n,i){var e=this;this.skinType=n,this.skinList=i;var t=0;this.scroll_content.removeAllChildren();var r=Math.ceil(i.length/3);new Array(r).fill(1).forEach((function(n,i){var r=p(e.skinRow_prefab);r.name="skinRow_"+i;var o=e.skinList.slice(t,t+3);e.scroll_content.addChild(r),r.getComponent(_).initSkinRow(o),t+=3}))},o.updateSkinList=function(n){this.scroll_content.children.forEach((function(i){i.getComponent(_).updateSkinRow(n)}))},i}(u)).prototype,"skinType",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.Head}}),b=i(w.prototype,"scroll_content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(w.prototype,"skinRow_prefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/skin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./contants.ts","./typings.ts","./skin_config.ts","./storage2.ts"],(function(t){var i,n,e,s,a,r,o,u,h;return{setters:[function(t){i=t.extends,n=t.createClass},function(t){e=t.cclegacy},function(t){s=t.APP_NAME},function(t){a=t.PetSkinType},function(t){r=t.CapySkinPrefix,o=t.CapySkin,u=t.CapyDefaultSkin},function(t){h=t.StorageUtils}],execute:function(){e._RF.push({},"ba28cRHYMBAnI77b/bNEdLB","skin",void 0);var c=t("SkinStore",function(){function t(){var n=this;this.baseSkinList={},this.skinObjectList={},this.originSkinJSON=null,this.data={petName:"capy",fragmentValue:0,wishValue:0,historyWishValue:0,ownedSkinKeyList:["1-1","2-1","3-2","4-1","5-1","6-1"],probabilities:{R:.8,SR:.15,SSR:.05},dressUpConfig:{capy:u}};var e=JSON.parse(localStorage.getItem(t.SKIN_KEY)||"{}");this.data=i({},this.data,e),h.Ins.get(t.SKIN_KEY).then((function(t){n.data=i({},n.data,t)}))}var e=t.prototype;return e.save=function(){localStorage.setItem(t.SKIN_KEY,JSON.stringify(this.data)),h.Ins.set(t.SKIN_KEY,this.data)},e.clearAll=function(){localStorage.removeItem(t.SKIN_KEY),h.Ins.set(t.SKIN_KEY,{})},e.initSkinData=function(t){var n=this;this.baseSkinList={},this.skinObjectList={},this.originSkinJSON=null,this.originSkinJSON=t,this.originSkinJSON.base.forEach((function(t){n.baseSkinList[t.id]=t})),Object.keys(this.originSkinJSON).forEach((function(t){"base"!==t&&n.originSkinJSON[t].forEach((function(e,s){var a=i({},e,{type:Number(t),ownId:t+"-"+e.id,key:r+"/"+o[Number(t)][0]});n.originSkinJSON[t][s]=a,n.skinObjectList[a.ownId]=a}))}))},e.getPetSkinDressUp=function(){var t=this.data.petName;return this.data.dressUpConfig[t]||{}},e.setPetSkinDressUp=function(t,i){var n=this.data.petName;this.data.dressUpConfig[n]||(this.data.dressUpConfig[n]=u),this.data.dressUpConfig[n][t]=i,this.save()},e.getPetName=function(){return this.data.petName},e.setPetName=function(t){this.data.petName=t,this.save()},e.getFragmentValue=function(){return this.data.fragmentValue},e.setFragmentValue=function(t){this.data.fragmentValue=t,this.save()},e.addSkinFragment=function(t){this.data.fragmentValue+=t,this.save()},e.getWishValue=function(){return this.data.wishValue},e.setWishValue=function(t){this.data.wishValue=t,this.save()},e.getHistoryWishValue=function(){return this.data.historyWishValue},e.addHistoryWishValueOne=function(){return this.data.historyWishValue+=1,this.data.historyWishValue%10==0&&this.save(),this.data.historyWishValue},e.getSkinList=function(){var t=this,i=[];return[a.Head,a.Body,a.Shouchi,a.Muyu,a.Text,a.Lotus].forEach((function(n){var e=t.originSkinJSON[n];if(Array.isArray(e)&&e.length>0)for(var s=0;s<e.length;s++)i.push(e[s])})),i},e.getSkinListByType=function(t){return this.originSkinJSON[t]||[]},e.getSkinItemById=function(t){return this.baseSkinList[t]},e.getSkinObjectInfoById=function(t){return this.skinObjectList[t]},e.addOwnedSkinKey=function(t){this.data.ownedSkinKeyList.find((function(i){return i===t}))||(this.data.ownedSkinKeyList.push(t),this.save())},e.getOwnedSkinKeyList=function(){return this.data.ownedSkinKeyList},e.getSkinKeyList=function(){var t=[];return this.getSkinList().forEach((function(i){t.push(i.ownId)})),t},e.getProbabilities=function(){return this.data.probabilities},e.setProbabilities=function(t){this.data.probabilities=t,this.save()},n(t,null,[{key:"Ins",get:function(){return t._ins||(t._ins=new t)}}]),t}());c.SKIN_KEY=s+"_skin",c._ins=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/SkinCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./contants.ts"],(function(e){var i,n,t,r,o,a,l,c,s,u,p,d,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Sprite,c=e.Label,s=e.Node,u=e.Color,p=e.Component},function(e){d=e.LevelNameColor,b=e.GameEvent}],execute:function(){var m,y,f,_,h,g,v,k,S,w,z,C,N,D,I,L,M,E,F;o._RF.push({},"13c13PWaARC1o3Sm6kDJqbV","SkinCard",void 0);var G=a.ccclass,R=a.property;e("SkinCard",(m=G("SkinCard"),y=R({type:l,displayName:"皮肤图片"}),f=R({type:c,displayName:"皮肤名字"}),_=R({type:s,displayName:"背景图片组"}),h=R({type:s,displayName:"选中状态"}),g=R({type:s,displayName:"未获得状态"}),v=R({type:s,displayName:"试穿提示"}),k=R({type:s,displayName:"价格节点"}),S=R({type:c,displayName:"消耗碎片数量"}),m((C=i((z=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,t(i,"sp_icon",C,r(i)),t(i,"name_lb",N,r(i)),t(i,"bgs_node",D,r(i)),t(i,"selected_node",I,r(i)),t(i,"notGet_node",L,r(i)),t(i,"tryDraw_node",M,r(i)),t(i,"price_node",E,r(i)),t(i,"coin_lb",F,r(i)),i.skinLevel=null,i.info=null,i}n(i,e);var o=i.prototype;return o.initSkinCard=function(e,i){if(void 0===i&&(i=!1),this.info=e,!i){var n=e.quality;this.skinLevel=n,this.bgs_node.children.forEach((function(e){e.active=e.name===n.toString()})),this.name_lb.color=new u(d[n]),this.name_lb.string=e.name,this.coin_lb.string=e.buyFragment.toString(),this.setSkinImage(e.sp)}this.selected_node.active=e.selected,this.notGet_node.active=!e.unlocked,this.price_node.active=!e.unlocked&&!e.selected,this.name_lb.node.active=e.unlocked||e.selected},o.onBtnSkinClick=function(e){this.info&&this.sp_icon.spriteFrame&&window.GameEvent.emit(b.CLICK_SKIN_ITEM,this.info)},o.setSkinImage=function(e){this.sp_icon.spriteFrame=e,this.sp_icon.trim=!0,this.sp_icon.sizeMode=l.SizeMode.TRIMMED;var i=e.width,n=e.height,t=Math.min(180/i,180/n,1);this.sp_icon.node.setScale(t,t,1)},i}(p)).prototype,"sp_icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(z.prototype,"name_lb",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(z.prototype,"bgs_node",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(z.prototype,"selected_node",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(z.prototype,"notGet_node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(z.prototype,"tryDraw_node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(z.prototype,"price_node",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(z.prototype,"coin_lb",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./Skin_Nav_Item.ts","./contants.ts","./Skin_Scroll_View.ts","./skin.ts","./SpinePet.ts","./ResourceLoader.ts","./renderSkin.ts","./LocalizedLabel.ts"],(function(e){var n,t,i,r,s,a,o,l,u,c,p,d,f,k,v,S,y,h,m,b,w,g,_,N,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.extends,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,c=e.Node,p=e.Prefab,d=e.Label,f=e.Sprite,k=e.instantiate,v=e.Component},function(e){S=e.PetSkinType,y=e.ToastType},function(e){h=e.Skin_Nav_Item},function(e){m=e.GameEvent},function(e){b=e.Skin_Scroll_View},function(e){w=e.SkinStore},function(e){g=e.SpinePet},function(e){_=e.ResourceLoader},function(e){N=e.renderSkin},function(e){I=e.LocalizedLabel}],execute:function(){var L,T,P,E,x,D,B,U,V,C,z,F,G,O,R,K,H,M,j;l._RF.push({},"0f623eVvj5N3Im6vanDYWM0","SkinPanel",void 0);var A=u.ccclass,Y=u.property;e("SkinPanel",(L=A("SkinPanel"),T=Y({type:I,displayName:"角色名字"}),P=Y({type:c,displayName:"装扮导航列表"}),E=Y({type:c,displayName:"装扮容器"}),x=Y({type:p,displayName:"装扮列表预制体"}),D=Y({type:g,displayName:"预览的角色模型"}),B=Y({type:d,displayName:"保存所需消耗的数量"}),U=Y({type:f,displayName:"保存按钮"}),V=Y({type:I,displayName:"保存按钮文本"}),L((F=n((z=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"petName_lb",F,r(n)),i(n,"skinNavList_node",G,r(n)),i(n,"scrollList_node",O,r(n)),i(n,"scrollView_prefab",R,r(n)),i(n,"previewSpine",K,r(n)),i(n,"saveNeedFragment_lb",H,r(n)),i(n,"saveBtn_sp",M,r(n)),i(n,"saveBtnText_lb",j,r(n)),n.currentSkinType=null,n.skinNavList=[],n.selectedDressUp={},n.cacheSkins=new Map,n}t(n,e);var l=n.prototype;return l.onLoad=function(){var e=w.Ins.getPetName();this.petName_lb._key="pet."+e,this.skinNavList=this.skinNavList_node.children.map((function(e){var n=e.getComponent(h);return{type:n.skinType,script:n,skinView:null}})),this.initCurrentPetSkin(),window.GameEvent.on(m.TOOGLE_SKIN_TYPE,this.onToogleSkinTypeEmit,this),window.GameEvent.on(m.CLICK_SKIN_ITEM,this.onChangeSkinHandle,this),this.updateSaveBtnlUI()},l.start=function(){this.onToogleSkinTypeEmit(this.currentSkinType||S.Head,!0)},l.onDestroy=function(){window.GameEvent.off(m.TOOGLE_SKIN_TYPE,this.onToogleSkinTypeEmit,this)},l.initCurrentPetSkin=function(){var e=w.Ins.getPetSkinDressUp();this.selectedDressUp=s({},e),N(e,this.previewSpine)},l.getRenderSkinList=function(){var e=a(o().mark((function e(n){var t,i,r,l,u,c=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.Ins.getPetSkinDressUp(),i=w.Ins.getOwnedSkinKeyList(),0!==(r=w.Ins.getSkinListByType(n)).length){e.next=5;break}return e.abrupt("return",[]);case 5:return l=r.map((function(e){var r=e.part1,a=w.Ins.getSkinItemById(r);if(a){var o=i.includes(e.ownId),l=c.selectedDressUp[n]===e.ownId,u=t[n]===e.ownId;return s({unlocked:o,selected:l,dressuped:u,sp:null},e,a)}return null})).filter((function(e){return null!==e})),e.next=8,Promise.all(l.map(a(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.loadSpriteFrame(n.key+"/"+n.fileName);case 2:return t=e.sent,n.sp=t,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))));case 8:return u=e.sent,e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l.onBtnSaveSkinClick=function(){var e=this;if(console.log("保存装扮",this.selectedDressUp),this.saveBtn_sp.grayscale)console.log("已经保存过, 装扮相等, 不保存");else{var n=w.Ins.getFragmentValue(),t=Number(this.saveNeedFragment_lb.string);t>n?window.GameEvent.emit(m.SHOW_TOAST,y.NoFragment):(w.Ins.setFragmentValue(n-t),window.GameEvent.emit(m.FRAGMENT_CHANGE,-t),Object.keys(this.selectedDressUp).forEach((function(n){var t=Number(n),i=e.selectedDressUp[t];w.Ins.addOwnedSkinKey(i),w.Ins.setPetSkinDressUp(t,i),e.updatePetSkinPanel(t)})),this.initCurrentPetSkin(),window.GameEvent.emit(m.RENDER_SKIN),this.updateSaveBtnlUI())}},l.onToogleSkinTypeEmit=function(e,n){var t=this;void 0===n&&(n=!1),this.currentSkinType!==e&&(this.currentSkinType=e,this.skinNavList.forEach(a(o().mark((function i(r){var s,a,l;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r.type===e)){i.next=19;break}if(r.script.setNavStatus(!0,n),r.skinView){i.next=16;break}return(s=k(t.scrollView_prefab)).name="skinScroll_"+e,a=s.getComponent(b),t.scrollList_node.addChild(s),i.next=10,t.getRenderSkinList(e);case 10:l=i.sent,console.log(l),a.initSkinList(e,l),r.skinView=a,i.next=17;break;case 16:r.skinView.node.active=!0;case 17:i.next=21;break;case 19:r.script.setNavStatus(!1,n),r.skinView&&(r.skinView.node.active=!1);case 21:case"end":return i.stop()}}),i)})))))},l.updatePetSkinPanel=function(){var e=a(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRenderSkinList(n);case 2:t=e.sent,this.skinNavList.forEach((function(e){var i;e.type===n&&(null==(i=e.skinView)||i.updateSkinList(t))}));case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),l.updateSaveBtnlUI=function(){var e=this,n=w.Ins.getOwnedSkinKeyList(),t=w.Ins.getPetSkinDressUp(),i=!0,r=0;Object.keys(this.selectedDressUp).forEach((function(s){var a=e.selectedDressUp[s];n.includes(a)||(r+=w.Ins.getSkinObjectInfoById(a).buyFragment),t[s]!==a&&(i=!1)})),this.saveNeedFragment_lb.string=String(r),this.saveBtn_sp.grayscale=i,this.saveBtnText_lb._key=0===r?"skin.saveBtn":"skin.saveBuy"},l.onChangeSkinHandle=function(){var e=a(o().mark((function e(n){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.slotName&&n.attachment){e.next=2;break}return e.abrupt("return");case 2:i=n.type,this.selectedDressUp[i]=n.ownId,this.updatePetSkinPanel(i),this.updateSaveBtnlUI(),N(((t={})[i]=n.ownId,t),this.previewSpine),i!==S.Text&&i!==S.Muyu&&i!==S.Shouchi||this.previewSpine.addQmyAnimation();case 8:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),n}(v)).prototype,"petName_lb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(z.prototype,"skinNavList_node",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(z.prototype,"scrollList_node",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(z.prototype,"scrollView_prefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(z.prototype,"previewSpine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(z.prototype,"saveNeedFragment_lb",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"saveBtn_sp",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(z.prototype,"saveBtnText_lb",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=z))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/SpinePet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts","./contants.ts"],(function(e){var t,n,i,s,a,o,r,c,l,p,m,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,l=e.sp,p=e.Enum,m=e.Component},function(e){u=e.PetState},function(e){h=e.GameEvent}],execute:function(){var S,y,d,f,g,A,v,C;r._RF.push({},"28082C45ARDSamqI45LD+w4","SpinePet",void 0);var k=c.ccclass,Q=c.property,b=c.requireComponent;e("SpinePet",(S=k("SpinePet"),y=b(l.Skeleton),d=Q({type:p(u),displayName:"宠物状态"}),f=Q({type:l.Skeleton,displayName:"Spine 节点",visible:!1}),S(g=y((v=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"petState",v,s(t)),i(t,"spine",C,s(t)),t.cacheQmyCount=0,t.isQmyAnimation=!1,t.huxiCount=0,t.clearQmyAniSpeedTimer=void 0,t.handleAniCompleteEvent=function(e){0!==e.trackIndex||t.petState!==u.Working&&t.petState!==u.Preview||("qmy"===e.animation.name?(t.isQmyAnimation=!1,t.spine.setAnimation(0,"huxi",!0),t.clearQmyAniSpeedTimer=setTimeout((function(){t.resetQmyAniSpeed()}),500)):"huxi"===e.animation.name&&(1!==t.spine.timeScale&&(t.spine.timeScale=1),t.huxiCount++,t.huxiCount>=300&&t.petIntoSleepHandle()))},t}n(t,e);var r=t.prototype;return r.onLoad=function(){window.petSpine=this.spine,this.spine=this.node.getComponent(l.Skeleton),this.spine.setCompleteListener(this.handleAniCompleteEvent),this.petState===u.Working&&this.scheduleOnce(this.petIntoSleepHandle,300)},r.onDestroy=function(){this.spine.setCompleteListener(null),this.unscheduleAllCallbacks()},r.resetQmyAniSpeed=function(){this.spine.timeScale=1,this.cacheQmyCount=0},r.addQmyAnimation=function(){if(this.isQmyAnimation){this.cacheQmyCount+=1;var e={Normal:4,Fast:10,Faster:20,Fastest:50},t={Normal:1,Fast:1.2,Faster:1.5,Fastest:2},n=this.spine.timeScale;this.cacheQmyCount>e.Normal&&n===t.Normal?(this.spine.timeScale=t.Fast,console.log("进入 "+this.spine.timeScale+" 倍加速")):this.cacheQmyCount>e.Fast&&n===t.Fast?(this.spine.timeScale=t.Faster,console.log("进入 "+this.spine.timeScale+" 倍加速")):this.cacheQmyCount>e.Faster&&n===t.Faster&&(this.spine.timeScale=t.Fastest,console.log("进入 "+this.spine.timeScale+" 倍加速"))}else this.isQmyAnimation=!0,this.spine.setAnimation(0,"qmy",!1),this.huxiCount=0,this.clearQmyAniSpeedTimer&&(clearTimeout(this.clearQmyAniSpeedTimer),this.clearQmyAniSpeedTimer=void 0)},r.petIntoSleepHandle=function(){console.log("进入睡眠"),window.GameEvent.emit(h.PET_SLEEP)},r.changeSlotPng=function(){var e=a(o().mark((function e(t,n,i){var s,a,r,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.spine){e.next=3;break}return console.warn("Spine 节点未赋值"),e.abrupt("return");case 3:if(s=this.spine.skeletonData.skeletonJson.slots,a=s.find((function(e){return e.name===t})),r=this.spine.findSlot(t),c=this.spine.getAttachment(t,n),r){e.next=10;break}return console.warn("槽位不存在",r,s),e.abrupt("return");case 10:if(c){e.next=13;break}return console.warn("attachment不存在",n,s),e.abrupt("return");case 13:c!==a.attachment&&c&&r.setAttachment(c),console.log(t,{"同附件":c.name===a.attachment,"附件宽高":c.width+"x"+c.height,"新图片宽高":i.width+"x"+i.height,"附件名":c.name,"slot名":t,"当前附件名":a.attachment}),this.spine.setSlotTexture(t,i,!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),r.getAnimations=function(){return Object.keys(this.spine.skeletonData.skeletonJson.animations)},t}(m)).prototype,"petState",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Working}}),C=t(A.prototype,"spine",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=A))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/SteamControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TauriSDK.ts","./setting.ts","./typings.ts","./achieve.ts"],(function(e){var t,r,n,a,s,c,u,o,i,p,f,v;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Component},function(e){o=e.TauriSDK},function(e){i=e.SettingStore},function(e){p=e.AchieveType},function(e){f=e.ACHIEVE_SKIN_LIST,v=e.ACHIEVE_WISH_LIST}],execute:function(){var l,m;s._RF.push({},"d3f68I6PpVCMqL+Cpj3XH3t","SteamControl",void 0);var h=c.ccclass;e("SteamControl",h("SteamControl")(((m=function(e){function s(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).isSteam=!1,t}t(s,e);var c=s.prototype;return c.onLoad=function(){var e=this;s._ins=this,this.getSteamInfo().then((function(t){if(console.log("steam_get_info",t),t){var r="V"+t.version+" - Steam: "+t.appid;i.Ins.setVersion(r),e.isSteam=!0,e.initAchievements()}else e.isSteam=!1})).catch((function(t){e.isSteam=!1}))},c.getSteamInfo=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.coreInvoke("steam_get_info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.initAchievements=function(){var e=n(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.coreInvoke("steam_request_stats");case 3:return(t=e.sent)?console.log("Steam成就系统初始化成功"):console.error("Steam成就系统初始化失败"),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Steam成就系统初始化异常:",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c.unlockAchievement=function(){var e=n(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.coreInvoke("steam_set_achievement",{achievementId:t});case 3:return(r=e.sent)?console.log("成就 "+t+" 解锁成功"):console.error("成就 "+t+" 解锁失败"),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.error("解锁成就失败:",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),c.getAllAchievements=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.coreInvoke("steam_get_all_achievements");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("获取所有成就信息失败:",e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),c.setStatInt=function(){var e=n(a().mark((function e(t,r,n){var s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),this.isSteam){e.next=3;break}return e.abrupt("return",!1);case 3:e.t0=t,e.next=e.t0===p.WISH_VALUE?6:e.t0===p.SKIN_NUM?9:12;break;case 6:return(s=v.find((function(e){return e.max===r})))&&this.unlockAchievement(s.id),e.abrupt("break",12);case 9:return(c=f.find((function(e){return e.max===r})))&&this.unlockAchievement(c.id),e.abrupt("break",12);case 12:return e.next=14,o.coreInvoke("steam_set_stat_int",{statName:t,value:r,store:n});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),c.getStatInt=function(){var e=n(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.coreInvoke("steam_get_stat_int",{statName:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.resetAchievements=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.coreInvoke("steam_reset_achievements");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("重置所有成就失败:",e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),r(s,null,[{key:"Ins",get:function(){return this._ins}}]),s}(u))._ins=void 0,l=m))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/storage.ts",["cc","./logger.ts"],(function(r){var t,e,o;return{setters:[function(r){t=r.cclegacy,e=r.sys},function(r){o=r.default}],execute:function(){t._RF.push({},"17f93EYMNdPybn6zRqkA2y4","storage",void 0);r("default",function(){function r(){}return r.get=function(r){try{var t=e.localStorage.getItem(r);try{t=JSON.parse(t)}catch(r){}return t}catch(r){return o.error("Error while reading from localStorage: ",r),null}},r.set=function(r,t){try{var c="object"==typeof t?JSON.stringify(t):t;e.localStorage.setItem(r,c)}catch(r){o.error("Error while writing to localStorage: ",r)}},r.delete=function(r){try{e.localStorage.removeItem(r)}catch(r){o.error("Error while deleting from localStorage: ",r)}},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/storage2.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,u;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){u=e.cclegacy}],execute:function(){u._RF.push({},"b937a/F5OFNkaQBZWXNU635","storage",void 0);var o=e("StorageUtils",function(){function e(){window.__TAURI__&&window.__TAURI__.store.Store.load(e.StoreKey).then((function(t){e._store=t}))}var u=e.prototype;return u.get=function(){var t=r(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.__TAURI__){t.next=2;break}return t.abrupt("return",Promise.resolve({}));case 2:if(e._store){t.next=10;break}return t.next=5,this.waitTime(10);case 5:if(e.tryCount++,!(e.tryCount>e.MAX_WAIT_TIME)){t.next=8;break}return t.abrupt("return",Promise.resolve({}));case 8:t.next=2;break;case 10:return t.abrupt("return",e._store.get(r));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.set=function(){var t=r(n().mark((function t(r,u){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.__TAURI__){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(e._store){t.next=10;break}return t.next=5,this.waitTime(10);case 5:if(e.tryCount++,!(e.tryCount>e.MAX_WAIT_TIME)){t.next=8;break}return t.abrupt("return");case 8:t.next=2;break;case 10:return t.abrupt("return",e._store.set(r,u));case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),u.waitTime=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t(e,null,[{key:"Ins",get:function(){return e._ins||(e._ins=new e)}}]),e}());o._ins=null,o._store=null,o.StoreKey="bongbongcapy.json",o.MAX_WAIT_TIME=100,o.tryCount=0,u._RF.pop()}}}));

System.register("chunks:///_virtual/TauriSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,r,t;return{setters:[function(i){n=i.createClass,e=i.asyncToGenerator,r=i.regeneratorRuntime},function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"2b08aQGGdVJCbnzxw2nD5HG","TauriSDK",void 0);var o="plugin:macos-permissions|check_input_monitoring_permission",s="plugin:macos-permissions|request_input_monitoring_permission",u=i("TauriSDK",function(){function i(){}return i.appWindowStartDragging=function(){this.isInTauri&&this.appWindow.startDragging()},i.appWindowSetIgnoreCursorEvents=function(i){this.isInTauri&&this.appWindow.setIgnoreCursorEvents(i)},i.appWindowGetAlwaysOnTop=function(){return this.isInTauri?this.appWindow.isAlwaysOnTop():Promise.resolve(!1)},i.appWindowSetAlwaysOnTop=function(i){return this.isInTauri?this.appWindow.setAlwaysOnTop(i):Promise.resolve()},i.toogleWindowVisible=function(){var i=e(r().mark((function i(){var n;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.isInTauri){i.next=2;break}return i.abrupt("return",Promise.resolve());case 2:return i.next=4,this.appWindow.isVisible();case 4:return n=i.sent,i.abrupt("return",n?this.appWindow.hide():this.appWindow.show());case 6:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),i.processExit=function(){this.isInTauri&&this.Tauri.process.exit(0)},i.processRelaunch=function(){this.isInTauri&&this.Tauri.process.relaunch()},i.pluginAutostartEnable=function(){return this.isInTauri?window.__TAURI__.autostart.isEnabled():Promise.resolve(!1)},i.pluginAutostartSetEnabled=function(i){return this.isInTauri?i?window.__TAURI__.autostart.enable():window.__TAURI__.autostart.disable():Promise.resolve()},i.appWindowSetZoom=function(i){this.isInTauri&&this.appWindow.setZoom(i)},i.appWindowInnerSize=function(){return this.isInTauri?this.appWindow.innerSize():Promise.resolve({width:0,height:0})},i.appWindowSize=function(){return this.isInTauri?this.appWindow.size():Promise.resolve({width:0,height:0})},i.appWindowSetSize=function(i,n){if(!this.isInTauri)return Promise.resolve();var e=window.__TAURI__.window.LogicalSize;return this.appWindow.setSize(new e(i,n))},i.appWindowSetPosition=function(i,n){if(!this.isInTauri)return Promise.resolve();var e=window.__TAURI__.window.LogicalPosition;return this.appWindow.setPosition(new e(i,n))},i.appWindowSetVisibleOnAllWorkspaces=function(i){return this.isInTauri?this.appWindow.setVisibleOnAllWorkspaces(i):Promise.resolve()},i.eventListen=function(i,n){return this.isInTauri?window.__TAURI__.event.listen(i,(function(i){n(i)})):Promise.resolve((function(){}))},i.eventOnceListen=function(i,n){return this.isInTauri?window.__TAURI__.event.once(i,(function(i){n(i)})):Promise.resolve((function(){}))},i.coreInvoke=function(i,n,e){return this.isInTauri?window.__TAURI__.core.invoke(i,n,e):Promise.reject(new Error("Not in Tauri"))},i.checkInputMonitoringPermission=function(){return this.isInTauri?this.coreInvoke(o):Promise.resolve(!1)},i.requestInputMonitoringPermission=function(){return this.isInTauri?this.coreInvoke(s):Promise.resolve()},i.clipboardManagerWriteText=function(i){return this.isInTauri?window.__TAURI__.clipboardManager.writeText(i):Promise.resolve()},i.shortcutRegister=function(i,n){return this.isInTauri?window.__TAURI__.globalShortcut.register(i,n):Promise.resolve()},i.shortcutUnregister=function(i){return this.isInTauri?window.__TAURI__.globalShortcut.unregister(i):Promise.resolve()},i.shortcutIsRegistered=function(i){return this.isInTauri?window.__TAURI__.globalShortcut.isRegistered(i):Promise.resolve(!1)},i.pluginUpdaterCheck=function(i){return this.isInTauri?window.__TAURI__.updater.check(i):Promise.resolve(null)},i.dialogMessage=function(i,n,e){return this.isInTauri?window.__TAURI__.dialog.message(n,{title:i,type:e||"info"}):(alert(i+"\n\n"+n),Promise.resolve())},i.dialogConfirm=function(i,n){return this.isInTauri?window.__TAURI__.dialog.confirm(n,{title:i}):Promise.resolve(confirm(i+"\n\n"+n))},n(i,null,[{key:"appWindow",get:function(){var n;return i._appWindow||(i._appWindow=null==(n=this.Tauri)||null==(n=n.webviewWindow)?void 0:n.getCurrentWebviewWindow())}},{key:"Tauri",get:function(){return window.__TAURI__}},{key:"isInTauri",get:function(){var i=!!window.__TAURI__;return i||console.warn("Not in Tauri"),i}},{key:"platform",get:function(){return window.__TAURI_OS_PLUGIN_INTERNALS__.os_type}},{key:"isMac",get:function(){return"macos"===this.platform}},{key:"isWindows",get:function(){return"windows"===this.platform}},{key:"isLinux",get:function(){return"linux"===this.platform}}]),i}());u._appWindow=void 0,window.TauriSDK=u,t._RF.pop()}}}));

System.register("chunks:///_virtual/Toast_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./typings.ts"],(function(t){var i,e,o,n,a,s,c,r,p,u,l,y,h,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,c=t._decorator,r=t.Enum,p=t.math,u=t.tween,l=t.Vec3,y=t.UIOpacity,h=t.Component},function(t){f=t.ToastType}],execute:function(){var d,g,m,_,O;s._RF.push({},"3fac3RYVZZMK679eMEKxBsW","Toast_Item",void 0);var v=c.ccclass,w=c.property;t("Toast_Item",(d=v("Toast_Item"),g=w({type:r(f),displayName:"提示信息节点"}),d((O=i((_=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,o(i,"toastType",O,n(i)),i.isShowing=!1,i._uiOpacity=null,i}return e(i,t),i.prototype.show=function(){var t=this;this.isShowing||(this.node.setPosition(16,-18,0),this.node.scale=p.Vec3.ZERO,this.isShowing=!0,this.node.active=!0,u(this.node).to(.2,{scale:p.Vec3.ONE},{easing:"backOut"}).delay(2).parallel(u(this.node).to(1,{position:new l(16,200,0)}),u(this.uiOpacity).to(1,{opacity:0})).call((function(){t.isShowing=!1,t.node.active=!1,t.uiOpacity.opacity=255})).start())},a(i,[{key:"uiOpacity",get:function(){return this._uiOpacity||(this._uiOpacity=this.node.getComponent(y)),this._uiOpacity}}]),i}(h)).prototype,"toastType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.NoFragment}}),m=_))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ToastControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Toast_Item.ts","./contants.ts"],(function(t){var o,n,s,e,a,r;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator,e=t.Component},function(t){a=t.Toast_Item},function(t){r=t.GameEvent}],execute:function(){var i;n._RF.push({},"1045c9BDEdLDbCNjGlf4hvR","ToastControl",void 0);var c=s.ccclass;s.property,t("ToastControl",c("ToastControl")(i=function(t){function n(){for(var o,n=arguments.length,s=new Array(n),e=0;e<n;e++)s[e]=arguments[e];return(o=t.call.apply(t,[this].concat(s))||this)._toastItems=[],o}o(n,t);var s=n.prototype;return s.onLoad=function(){this._toastItems=this.node.getComponentsInChildren(a),this._toastItems.forEach((function(t){t.node.active=!1})),window.GameEvent.on(r.SHOW_TOAST,this.showToast,this)},s.onDestroy=function(){window.GameEvent.off(r.SHOW_TOAST,this.showToast,this)},s.showToast=function(t){var o=this._toastItems.find((function(o){return o.toastType===t}));o&&o.show()},n}(e))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/typings.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"4c2f06xYB1I473vgvVdra9/","typings",void 0);e("PlatformOS",function(e){return e.Mac="OS X",e.Windows="Windows",e}({})),e("LanguageType",function(e){return e.ZH_CN="zh_CN",e.EN_US="en_US",e.ZH_TW="zh_TW",e.JA_JP="ja_JP",e.FR_FR="fr_FR",e.DE_DE="de_DE",e.ES_ES="es_ES",e.RU_RU="ru_RU",e}({})),e("PetState",function(e){return e[e.Preview=0]="Preview",e[e.Working=1]="Working",e[e.Sleeping=2]="Sleeping",e}({})),e("PetId",function(e){return e.Kapibala="kapibala",e}({})),e("NavItemType",function(e){return e.Setting="setting",e.Skin="skin",e.Wish="wish",e.Pet="pet",e}({})),e("PetSkinType",function(e){return e[e.Head=1]="Head",e[e.Body=2]="Body",e[e.Shouchi=3]="Shouchi",e[e.Muyu=4]="Muyu",e[e.Text=5]="Text",e[e.Lotus=6]="Lotus",e}({})),e("PetSkinLevel",function(e){return e.R="R",e.SR="SR",e.SSR="SSR",e}({})),e("MenuOpacityState",function(e){return e[e.Hidden=0]="Hidden",e[e.HalfShow=1]="HalfShow",e[e.FullShow=2]="FullShow",e}({})),e("SettingKey",function(e){return e.None="",e.language="language",e.version="version",e.alwaysOnTop="alwaysOnTop",e.autoUpdate="autoUpdate",e.autoStart="autoStart",e.mirrorMode="mirrorMode",e.pressPetSound="pressPetSound",e.skipAnimation="skipAnimation",e.adminMode="adminMode",e.taskbarIcon="taskbarIcon",e.visibleOnAllWorkspaces="visibleOnAllWorkspaces",e.showWishValue="showWishValue",e.wishBubbleTip="wishBubbleTip",e.hadInputPermission="hadInputPermission",e.petScale="petScale",e.petOpacity="petOpacity",e}({})),e("SettingWindowEvent",function(e){return e.SendGetSetting="get-setting",e.ReceiveSettingInfo="setting-info",e.SendChangeSetting="change-setting",e.SendCloseSetting="close-setting",e.SendClearAll="clear-all",e}({})),e("MainWindowEvent",function(e){return e.ReceiveGetSetting="get-setting",e.SendSettingInfo="setting-info",e.ReceiveChangeSetting="change-setting",e.ReceiveCloseSetting="close-setting",e.ReceiveClearAll="clear-all",e}({})),e("AchieveType",function(e){return e.WISH_VALUE="WISH_VALUE",e.SKIN_NUM="SKIN_NUM",e}({})),e("PetSoundSkinType",function(e){return e["默认"]="默认",e["脸盆"]="脸盆",e["木鱼"]="木鱼",e}({})),e("ToastType",function(e){return e.NoFragment="NoFragment",e.NoWish="NoWish",e.CanWish="CanWish",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/userinfo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"57ecdhVBRRPRpu7MWHWOMr+","userinfo",void 0),n("UserInfoStore",function(){function n(){this.data={uuid:""},this.data={uuid:""}}return e(n,null,[{key:"Ins",get:function(){return n._ins||(n._ins=new n)}}]),n}())._ins=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/WishPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./setting.ts","./typings.ts","./contants.ts","./skin.ts","./index.ts","./Qipao_Item.ts","./PanelControl.ts","./PetPanel.ts"],(function(t){var n,e,i,o,s,r,a,u,l,c,h,p,m,f,d,w,_,v,I,y,A,g,T,x,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.extends,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,c=t.Toggle,h=t.Label,p=t.sp,m=t.Node,f=t.tween,d=t.Vec3,w=t.Component},function(t){_=t.SettingStore},function(t){v=t.ToastType,I=t.PetSkinLevel},function(t){y=t.GameEvent},function(t){A=t.SkinStore},function(t){g=t.delay},function(t){T=t.Qipao_Item},function(t){x=t.PanelControl},function(t){S=t.PetPanel}],execute:function(){var E,C,b,P,N,O,k,W,R,L,H,M,F,G,U,D,V;u._RF.push({},"b64e9LU8gxAFJnNJeO7mvru","WishPanel",void 0);var j=l.ccclass,z=l.property,Q="xyc_huxi",B="xyc_cj_hong1",X="xyc_cj_hong5",q="xyc_cj_jin1",J="xyc_cj_jin5";t("WishPanel",(E=j("WishPanel"),C=z({type:c,displayName:"跳过动画高亮"}),b=z({type:h,displayName:"许愿1次消耗"}),P=z({type:h,displayName:"许愿5次消耗"}),N=z({type:p.Skeleton,displayName:"许愿池动画"}),O=z({type:m,displayName:"可操作节点"}),k=z({type:m,displayName:"奖励节点"}),W=z({type:m,displayName:"菜单按钮节点"}),E((H=n((L=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,i(n,"skipAnimationToggle",H,o(n)),i(n,"wishOneCost_lb",M,o(n)),i(n,"wishFiveCost_lb",F,o(n)),i(n,"wish_sp",G,o(n)),i(n,"action_node",U,o(n)),i(n,"gotReward_node",D,o(n)),i(n,"menu_node",V,o(n)),n.pipao_items=[],n.WISH_ONE_COST=1e3,n.WISH_FIVE_COST=4e3,n.ANIMATION_TOTAL_DURATION=.9,n.ANIMATION_SCALE_RATIO=.8,n.ANIMATION_DELAY_INTERVAL=.15,n.SCALE_TARGET=.3,n.isPlayingWishAnimation=!1,n.waitCompleteAnimation=[null,null],n.probabilities={R:.8,SR:.15,SSR:.05},n.assetPool=[],n.gotSkinIdList=[],n.handleAniCompleteEvent=function(t){if(0===t.trackIndex){var e=t.animation.name;if(e!==Q){var i=n.waitCompleteAnimation,o=i[0],s=i[1];o&&s&&o===e&&(n.waitCompleteAnimation=[null,null],s(),n.isPlayingWishAnimation=!1)}}},n}e(n,t);var u=n.prototype;return u.onLoad=function(){this.probabilities=A.Ins.getProbabilities(),this.assetPool=A.Ins.getSkinList(),this.gotSkinIdList=A.Ins.getOwnedSkinKeyList(),this.skipAnimationToggle.isChecked=_.Ins.getSkipAnimation(),this.gotReward_node.active=!1,this.wishOneCost_lb.string=this.WISH_ONE_COST.toString(),this.wishFiveCost_lb.string=this.WISH_FIVE_COST.toString(),this.wish_sp&&(this.startWishIdleAnimation(),this.wish_sp.setCompleteListener(this.handleAniCompleteEvent),this.pipao_items=this.wish_sp.node.getComponentsInChildren(T))},u.onDestroy=function(){var t;null==(t=this.wish_sp)||t.setCompleteListener(null)},u.onToggleSkipAnimation=function(t){var n=!_.Ins.getSkipAnimation(),e=t.target.getComponentInChildren(c);e&&(e.isChecked=n),_.Ins.setSkipAnimation(n)},u.startWishIdleAnimation=function(){this.wish_sp.setAnimation(0,Q,!0)},u.playWishAnimation=function(t,n){!this.isPlayingWishAnimation&&this.wish_sp&&(this.isPlayingWishAnimation=!0,this.wish_sp.setAnimation(0,t,!1),this.waitCompleteAnimation=[t,n])},u.getWishRewards=function(t){for(var n=[],e=this.assetPool.reduce((function(t,n){var e=n.quality;return t[e]||(t[e]=[]),t[e].push(n),t}),{}),i=function(t){var n=Math.random(),e=0;for(var i in t)if(n<(e+=t[i]))return i;return Object.keys(t)[0]||""},o=0;o<t;o++){var r=e[i(this.probabilities)],a=r[Math.floor(Math.random()*r.length)],u=this.gotSkinIdList.includes(a.ownId);n.push(s({},a,{needExchange:u,isNew:!u}))}return n},u.onBtnWishOneClick=function(){var t=this;if(S.Ins.currentWishValue<this.WISH_ONE_COST)window.GameEvent.emit(y.SHOW_TOAST,v.NoWish);else{S.Ins.updateWishValue(-this.WISH_ONE_COST);var n=this.getWishRewards(1);this.initQipaoItemsHandle(n);var e=n.some((function(t){return t.quality===I.SSR}));this.setShowUIComponent(!1),window.GameEvent.emit(y.HIDE_MENU,{show:!1}),this.playWishAnimation(e?q:B,r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.receiveReward(n),console.log("播放奖励动画",n),t.gotReward_node.active=!0,t.pipao_items.forEach((function(t){t.playHuxiAnimation()})),window.GameEvent.emit(y.HIDE_MENU,{show:!0});case 5:case"end":return e.stop()}}),e)}))))}},u.onBtnWishFiveClick=function(){var t=this;if(S.Ins.currentWishValue<this.WISH_FIVE_COST)window.GameEvent.emit(y.SHOW_TOAST,v.NoWish);else{S.Ins.updateWishValue(-this.WISH_FIVE_COST);var n=this.getWishRewards(5);this.initQipaoItemsHandle(n);var e=n.some((function(t){return t.quality===I.SSR}));this.setShowUIComponent(!1),window.GameEvent.emit(y.HIDE_MENU,{show:!1}),this.playWishAnimation(e?J:X,r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.receiveReward(n),console.log("播放奖励动画",n),t.gotReward_node.active=!0,t.pipao_items.forEach((function(t){t.playHuxiAnimation()})),window.GameEvent.emit(y.HIDE_MENU,{show:!0});case 5:case"end":return e.stop()}}),e)}))))}},u.receiveReward=function(t){t.forEach((function(t){t.needExchange?(A.Ins.addSkinFragment(t.sellFragment),window.GameEvent.emit(y.FRAGMENT_CHANGE,t.sellFragment)):A.Ins.addOwnedSkinKey(t.ownId)}))},u.onBtnReceiveClick=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gotReward_node.active=!1,t.next=3,this.playQipaoXsHandle();case 3:return this.startWishIdleAnimation(),t.next=6,g(300);case 6:this.setShowUIComponent(!0);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onBtnInfoClick=function(){},u.onBtnRecordClick=function(){},u.setShowUIComponent=function(t){this.action_node.active=t,x.Ins.valueNode.active=t},u.initQipaoItemsHandle=function(t){var n=this;t.forEach((function(t,e){var i=n.pipao_items[e];i&&i.setReward(t)}))},u.playQipaoXsHandle=function(){var t=r(a().mark((function t(){var n,e,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.pipao_items.filter((function(t){return t.isInit})),0!==(e=n.length)){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:if(i=this.menu_node.getWorldPosition(),o=new d,this.node.inverseTransformPoint(o,i),1!==e){t.next=14;break}return t.next=10,this.flyItemToMenu(n[0],o);case 10:return t.next=12,n[0].playXsAnimation();case 12:t.next=19;break;case 14:if(5!==e){t.next=19;break}return t.next=17,this.executeFiveItemAnimation(n,o);case 17:return t.next=19,Promise.all(n.map((function(t){return t.playXsAnimation()})));case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.flyItemToMenu=function(){var t=r(a().mark((function t(n,e,i){var o,s,r,u,l,c,h,p,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=0),o=n.spine.node,s=o.getWorldPosition(),r=new d,this.node.inverseTransformPoint(r,s),u=o.parent,l=o.position.clone(),o.removeFromParent(),this.node.addChild(o),o.setPosition(r),c=new d(r.x+.3*(e.x-r.x)-150,r.y-100,0),h=new d(r.x+.7*(e.x-r.x)-100,e.y-50,0),p=.7,m=r.clone(),!(i>0)){t.next=17;break}return t.next=17,g(i);case 17:return f(o).to(p*this.ANIMATION_SCALE_RATIO,{scale:new d(this.SCALE_TARGET,this.SCALE_TARGET,1)},{easing:"sineOut"}).start(),t.abrupt("return",new Promise((function(t){f({t:0}).to(p,{t:1},{easing:"linear",onUpdate:function(t){var n=t.t,i=1-n,s=i*i*i*m.x+3*i*i*n*c.x+3*i*n*n*h.x+n*n*n*e.x,r=i*i*i*m.y+3*i*i*n*c.y+3*i*n*n*h.y+n*n*n*e.y;o.setPosition(s,r,0)}}).call((function(){o.active=!1,o.parent=u,o.setPosition(l),o.setScale(d.ONE),t()})).start()})));case 19:case"end":return t.stop()}}),t,this)})));return function(n,e,i){return t.apply(this,arguments)}}(),u.executeFiveItemAnimation=function(){var t=r(a().mark((function t(n,e){var i,o,s,r,u,l,c,h,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n[3]){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:for(o=i.spine.node.getWorldPosition(),s=new d,this.node.inverseTransformPoint(s,o),r=[3,4,2,1,0],u=[],l=0,c=0;c<r.length;c++)(p=n[h=r[c]])&&(3===h?u.push(this.flyItemToMenu(p,e,l)):u.push(this.flyItemToExitThenMenu(p,s,e,l))),l+=1e3*this.ANIMATION_DELAY_INTERVAL;return t.next=12,Promise.all(u);case 12:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),u.flyItemToExitThenMenu=function(){var t=r(a().mark((function t(n,e,i,o){var s,r,u,l,c,h;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=0),s=n.spine.node,r=s.getWorldPosition(),u=new d,this.node.inverseTransformPoint(u,r),l=s.parent,c=s.position.clone(),s.removeFromParent(),this.node.addChild(s),s.setPosition(u),h=[u,e,i],!(o>0)){t.next=14;break}return t.next=14,g(o);case 14:return f(s).to(this.ANIMATION_TOTAL_DURATION*this.ANIMATION_SCALE_RATIO,{scale:new d(this.SCALE_TARGET,this.SCALE_TARGET,1)},{easing:"sineOut"}).start(),t.abrupt("return",this.executeFullPathTween(s,h,this.ANIMATION_TOTAL_DURATION,l,c));case 16:case"end":return t.stop()}}),t,this)})));return function(n,e,i,o){return t.apply(this,arguments)}}(),u.executeFullPathTween=function(t,n,e,i,o){var s=n[0],r=n[1],a=n[2],u=this.adjustControlPoint(s,r,a),l=s.x,c=s.y,h=u.x,p=u.y,m=a.x,w=a.y;return new Promise((function(n){f({t:0}).to(e,{t:1},{easing:"sineInOut",onUpdate:function(n){var e=n.t,i=1-e,o=2*e,s=i*i,r=e*e,a=s*l+i*o*h+r*m,u=s*c+i*o*p+r*w;t.setPosition(a,u,0)}}).call((function(){t.active=!1,t.parent=i,t.setPosition(o),t.setScale(d.ONE),n()})).start()}))},u.adjustControlPoint=function(t,n,e){var i=.1*(t.x+e.x)-.2*n.x,o=.1*(t.y+e.y)-.2*n.y;return new d(n.x+i,n.y+o,0)},n}(w)).prototype,"skipAnimationToggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(L.prototype,"wishOneCost_lb",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(L.prototype,"wishFiveCost_lb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(L.prototype,"wish_sp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(L.prototype,"action_node",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(L.prototype,"gotReward_node",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(L.prototype,"menu_node",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=L))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/zh_CN.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"59d0figbjJPM5+1JuJBn7f/","zh_CN",void 0);var n=e("languages",{language:"中文简体",version:"1.0.0",settings:{userTip:"快捷键：\nF1 隐藏/展示 (老板键)\nF2 切换随机装扮",language:"语言设置",alwaysOnTop:"窗口置顶",autoUpdate:"自动更新",checkUpdate:"检查更新",autoStart:"开机自启",mirrorMode:"镜像模式",pressPetSound:"敲击音效",adminMode:"管理员模式",taskbarIcon:"任务栏图标",visibleOnAllWorkspaces:"所有窗口可见",showWishValue:"首页展示功德值",wishBubbleTip:"抽奖气泡提醒",hadInputPermission:"获取键盘权限",appInfo:"关于我们(敲敲敲好运)",goSetting:"前往设置",exitApp:"退出",petScale:"窗口大小",petOpacity:"透明度",clearAll:"清空所有数据"},skin:{saveBtn:"保存装扮",saveBuy:"碎片购买"},wish:{skipAnimation:"跳过动画",wishOnce:"许愿一次",wishFive:"许愿五次",receive:"收  下"},toast:{noFragment:"碎片不足, 请前往许愿池许愿吧!",noWish:"功德不足, 请积累功德吧!",canWish:"积累好多功德, 可以许愿了!"},pet:{capy:"卡皮巴拉"}});window.languages||(window.languages={}),window.languages.zh_CN=n,a._RF.pop()}}}));

System.register("chunks:///_virtual/zh_TW.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"82073Sq75lJs4ag79Z9aM+2","zh_TW",void 0);var n=e("languages",{language:"中文繁體",version:"1.0.0",settings:{userTip:"快捷鍵：\nF1 隱藏/展示(老板鍵)\nF2 切換隨機裝扮",language:"語言設定",alwaysOnTop:"窗口置頂",autoUpdate:"自動更新",checkUpdate:"檢查更新",autoStart:"開機自啟",mirrorMode:"鏡像模式",pressPetSound:"敲擊音效",skipAnimation:"跳過動畫",adminMode:"管理員模式",taskbarIcon:"任務欄圖標",visibleOnAllWorkspaces:"所有窗口可見",showWishValue:"首頁展示功德值",wishBubbleTip:"抽獎提醒",hadInputPermission:"獲取鍵盤權限",appInfo:"關於我們（敲敲敲好運）",goSetting:"前往設定",exitApp:"退出",petScale:"窗口大小",petOpacity:"透明度",clearAll:"清空所有數據"},skin:{saveBtn:"保存裝扮",saveBuy:"碎片購買"},wish:{skipAnimation:"跳過動畫",wishOnce:"許願一次",wishFive:"許願五次",receive:"收  下"},toast:{noFragment:"碎片不足, 請前往許願池許願吧!",noWish:"功德不足, 請積累功德吧!",canWish:"積累好多功德, 可以許願了!"},pet:{capy:"卡皮巴拉"}});window.languages||(window.languages={}),window.languages.zh_TW=n,a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});